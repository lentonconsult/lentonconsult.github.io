!function(){function e(t,n,r){function o(a,u){if(!n[a]){if(!t[a]){var s="function"==typeof require&&require;if(!u&&s)return s(a,!0);if(i)return i(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[a]={exports:{}};t[a][0].call(l.exports,function(e){return o(t[a][1][e]||e)},l,l.exports,e,t,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}return e}()({1:[function(e,t,n){t.exports=e("regenerator-runtime")},{"regenerator-runtime":3}],2:[function(e,t,n){function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(l===setTimeout)return setTimeout(e,0);if((l===r||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function a(){h&&d&&(h=!1,d.length?p=d.concat(p):y=-1,p.length&&u())}function u(){if(!h){var e=i(a);h=!0;for(var t=p.length;t;){for(d=p,p=[];++y<t;)d&&d[y].run();y=-1,t=p.length}d=null,h=!1,function(e){if(f===clearTimeout)return clearTimeout(e);if((f===o||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}(e)}}function s(e,t){this.fun=e,this.array=t}function c(){}var l,f,process=t.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:r}catch(e){l=r}try{f="function"==typeof clearTimeout?clearTimeout:o}catch(e){f=o}}();var d,p=[],h=!1,y=-1;process.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];p.push(new s(e,t)),1!==p.length||h||i(u)},s.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env = {M_DETERMINISTIC: 'false', M_MSNAPSHOTTP_PRIMARY_DOMAIN: 'tr.momentcrm.com', M_MWEB_PRIMARY_DOMAIN: 'www.momentcrm.com', M_RUN_MODE: 'prod', SNAPSHOTTP_API_PATH_PREFIX: '/playback', CUSTOM_EVENTS_PREFIX: '/events', COMMIT_HASH: 'master?', M_STRIPE_PUBLIC_KEY: 'pk_live_98nGhlRlkq2MMoMkG911n6mj'},process.argv=[],process.version="",process.versions={},process.on=c,process.addListener=c,process.once=c,process.off=c,process.removeListener=c,process.removeAllListeners=c,process.emit=c,process.prependListener=c,process.prependOnceListener=c,process.listeners=function(e){return[]},process.binding=function(e){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(e){throw new Error("process.chdir is not supported")},process.umask=function(){return 0}},{}],3:[function(e,t,n){var r=function(e){"use strict";function t(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}function n(e,t,n,i){var a=t&&t.prototype instanceof o?t:o,u=Object.create(a.prototype),s=new d(i||[]);return u._invoke=function(e,t,n){var o=O;return function(i,a){if(o===S)throw new Error("Generator is already running");if(o===T){if("throw"===i)throw a;return h()}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var s=c(u,n);if(s){if(s===A)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===O)throw o=T,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=S;var l=r(e,t,n);if("normal"===l.type){if(o=n.done?T:_,l.arg===A)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=T,n.method="throw",n.arg=l.arg)}}}(e,n,s),u}function r(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function o(){}function i(){}function a(){}function u(e){["next","throw","return"].forEach(function(n){t(e,n,function(e){return this._invoke(n,e)})})}function s(e,t){function n(o,i,a,u){var s=r(e[o],e,i);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==typeof l&&v.call(l,"__await")?t.resolve(l.__await).then(function(e){n("next",e,a,u)},function(e){n("throw",e,a,u)}):t.resolve(l).then(function(e){c.value=e,a(c)},function(e){return n("throw",e,a,u)})}u(s.arg)}var o;this._invoke=function(e,r){function i(){return new t(function(t,o){n(e,r,t,o)})}return o=o?o.then(i,i):i()}}function c(e,t){var n=e.iterator[t.method];if(n===y){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=y,c(e,t),"throw"===t.method))return A;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return A}var o=r(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,A;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=y),t.delegate=null,A):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,A)}function l(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function f(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function d(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(l,this),this.reset(!0)}function p(e){if(e){var t=e[g];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(v.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=y,t.done=!0,t};return r.next=r}}return{next:h}}function h(){return{value:y,done:!0}}var y,m=Object.prototype,v=m.hasOwnProperty,b="function"==typeof Symbol?Symbol:{},g=b.iterator||"@@iterator",E=b.asyncIterator||"@@asyncIterator",w=b.toStringTag||"@@toStringTag";try{t({},"")}catch(e){t=function(e,t,n){return e[t]=n}}e.wrap=n;var O="suspendedStart",_="suspendedYield",S="executing",T="completed",A={},M={};M[g]=function(){return this};var P=Object.getPrototypeOf,j=P&&P(P(p([])));j&&j!==m&&v.call(j,g)&&(M=j);var R=a.prototype=o.prototype=Object.create(M);return i.prototype=R.constructor=a,a.constructor=i,i.displayName=t(a,w,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===i||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,a):(e.__proto__=a,t(e,w,"GeneratorFunction")),e.prototype=Object.create(R),e},e.awrap=function(e){return{__await:e}},u(s.prototype),s.prototype[E]=function(){return this},e.AsyncIterator=s,e.async=function(t,r,o,i,a){void 0===a&&(a=Promise);var u=new s(n(t,r,o,i),a);return e.isGeneratorFunction(r)?u:u.next().then(function(e){return e.done?e.value:u.next()})},u(R),t(R,w,"Generator"),R[g]=function(){return this},R.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=p,d.prototype={constructor:d,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=y,this.done=!1,this.delegate=null,this.method="next",this.arg=y,this.tryEntries.forEach(f),!e)for(var t in this)"t"===t.charAt(0)&&v.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=y)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){function t(t,r){return i.type="throw",i.arg=e,n.next=t,r&&(n.method="next",n.arg=y),!!r}if(this.done)throw e;for(var n=this,r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=v.call(o,"catchLoc"),u=v.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&v.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,A):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),A},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),f(n),A}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;f(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:p(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=y),A}},e}("object"==typeof t?t.exports:{});try{regeneratorRuntime=r}catch(e){Function("r","regeneratorRuntime = r")(r)}},{}],4:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n,r,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){function a(e){o(s,r,i,a,u,"next",e)}function u(e){o(s,r,i,a,u,"throw",e)}var s=e.apply(t,n);a(void 0)})}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}Object.defineProperty(n,"__esModule",{value:!0}),n.MapStorage=n.IdbStorage=n.default=void 0;var c=r(e("@babel/runtime/regenerator")),l=r(e("idb")),f=r(e("./snapshottp-logger")),d=function(){function e(t){a(this,e),this.storage=null,this.type=t.type||"IdbStorage"}return s(e,[{key:"init",value:function(){var e=i(c.default.mark(function e(){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("MapStorage"!==this.type){e.next=4;break}return f.default.debug("MapStorage enforced"),this.storage=new h,e.abrupt("return");case 4:return e.prev=4,this.storage=new p,e.next=8,this.storage.init();case 8:e.next=14;break;case 10:e.prev=10,e.t0=e.catch(4),f.default.error("Unable to create IdbStorage. Using MapStorage instead"),this.storage=new h;case 14:case"end":return e.stop()}},e,this,[[4,10]])}));return function(){return e.apply(this,arguments)}}()},{key:"get",value:function(){var e=i(c.default.mark(function e(t){var n;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.storage){e.next=2;break}throw new Error("storage is not initialized");case 2:return e.next=4,this.storage.get(t);case 4:return n=e.sent,e.abrupt("return",n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"put",value:function(){var e=i(c.default.mark(function e(t,n){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.storage){e.next=2;break}throw new Error("storage is not initialized");case 2:return e.next=4,this.storage.put(t,n);case 4:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()}]),e}();n.default=d;var p=function(){function e(){a(this,e),this.idb=null}return s(e,[{key:"init",value:function(){var e=i(c.default.mark(function e(){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.default.open("snapshottp",1,function(e){switch(e.oldVersion){case 0:e.createObjectStore("chunk",{keyPath:"key"})}});case 3:this.idb=e.sent,e.next=10;break;case 6:throw e.prev=6,e.t0=e.catch(0),f.default.error("Unable to create idb."),e.t0;case 10:case"end":return e.stop()}},e,this,[[0,6]])}));return function(){return e.apply(this,arguments)}}()},{key:"get",value:function(){var e=i(c.default.mark(function e(t){var n;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.idb){e.next=2;break}throw new Error("idb is not initialized");case 2:return e.next=4,this.idb.transaction("chunk").objectStore("chunk").get(t);case 4:return n=e.sent,e.abrupt("return",n?n.value:null);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"put",value:function(){var e=i(c.default.mark(function e(t,n){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.idb){e.next=2;break}throw new Error("idb is not initialized");case 2:return e.next=4,this.idb.transaction("chunk","readwrite").objectStore("chunk").put({key:t,value:n}).complete;case 4:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()}]),e}();n.IdbStorage=p;var h=function(){function e(){a(this,e),this.map=new Map}return s(e,[{key:"get",value:function(e){return this.map.has(e)?this.map.get(e):null}},{key:"put",value:function(e,t){this.map.set(e,t)}}]),e}();n.MapStorage=h},{"./snapshottp-logger":49,"@babel/runtime/regenerator":1,idb:9}],5:[function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function i(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return u=e.done,e},e:function(e){s=!0,i=e},f:function(){try{u||null==n.return||n.return()}finally{if(s)throw i}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(n,"__esModule",{value:!0}),n.decompress=n.compress=void 0;n.compress=function(e){var t,n=[],r=[],o=function(e){var t=JSON.stringify(e),o=r.indexOf(t);return o>=0?o:(n.push(e),r.push(t),r.length-1)},a=null,u=[],s=i(e);try{for(s.s();!(t=s.n()).done;){var c=t.value,l=[];"childList"===c.type&&(c.addedNodes&&c.addedNodes.length?l=[1,c.addedNodes,c.previousSibling,c.target,o(c.rootUrl)]:c.movedNodes&&c.movedNodes.length?l=[2,c.movedNodes,c.previousSibling,c.target,o(c.rootUrl)]:c.removedNodes&&(l=[3,c.removedNodes,c.previousSibling,c.target,o(c.rootUrl)]),a||(a=c.rootUrl)),"attributes"===c.type&&(l=[4,c.attributeName,c.attributeNamespace,c.target,c.value,o(c.rootUrl)]),"characterData"===c.type&&(l=[5,c.target,c.nodeValue]),u.push(l)}}catch(e){s.e(e)}finally{s.f()}return[u,n]};n.decompress=function(e,t){var n,r=[],a={1:"childList",2:"childList",3:"childList",4:"attributes",5:"characterData"},u=i(e);try{for(u.s();!(n=u.n()).done;){var s=n.value,c={type:a[s[0]]},l={};"childList"===c.type&&(l=o(o({},c=o(o({},c),{},{movedNodes:[],addedNodes:[],removedNodes:0})),{},{previousSibling:s[2],target:s[3],rootUrl:t[s[4]]}),1===s[0]&&(l.addedNodes=s[1]),2===s[0]&&(l.movedNodes=s[1]),3===s[0]&&(l.removedNodes=s[1])),"attributes"===c.type&&(l=o(o({},c),{},{attributeName:s[1],attributeNamespace:s[2],target:s[3],value:s[4],rootUrl:t[s[5]]})),"characterData"===c.type&&(l=o(o({},c),{},{target:s[1],nodeValue:s[2]})),r.push(l)}}catch(e){u.e(e)}finally{u.f()}return r}},{}],6:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.EXTERNAL_RESOURCE_ATTRS=n.IMAGE_BY_CONTENT_TYPE=void 0;n.IMAGE_BY_CONTENT_TYPE={apng:"apng",avif:"avif",gif:"gif",jpeg:"jpeg",png:"png","svg+xml":"svg",wepb:"wepb",bmp:"bmp","x-icon":"ico",tiff:"tiff"};n.EXTERNAL_RESOURCE_ATTRS={BGSOUND:["src"],EMBED:["src"],FRAME:["src"],IFRAME:["src"],IMG:["src"],IMAGE:["src"],INPUT:["src"],LINK:["href","src","urn"],SCRIPT:["src"],TABLE:["background"],TD:["background"],TH:["background"],TR:["background"]}},{}],7:[function(e,t,n){"use strict";function r(e,t,n,r,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)}Object.defineProperty(n,"__esModule",{value:!0}),n.restoreFullDocument=n.saveFullDocument=n.restoreCss=n.restoreConstructedStyles=n.saveConstructedStylesheets=n.saveCss=n.restoreFramesRecursive=n.restoreHTMLRecursive=n.saveHTMLRecursive=n.restoreHTML=n.saveHTML=n.moveDocToDoc=n.moveRootToRoot=n.selfContainify=n.deJavascriptify=n.transformUrl=n.fullUrl=n.waitForFullHeightFrameRenderAndScroll=n.getDocumentScrollProps=n.getParentChain=n.eatInsecureOrThrow=n.applyUniquePosArray=n.getUniquePosArray=n.getIndexInParent=n.NodeParentNullException=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(e("@babel/runtime/regenerator")),i=e("./jxon"),a=e("./consts"),u=function(e){var t=new Error("NodeParentNullException");return t.node=e,t};n.NodeParentNullException=u;var s=function(e){if(!e)throw new Error("Node cannot be null");if(!e.parentNode)throw new u(e);for(var t=e.parentNode.childNodes,n=t.length,r=0;r<n;++r)if(e===t[r])return r;return-1};n.getIndexInParent=s;var c=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e,r=[];n&&n!==t&&"HTML"!==n.tagName;)r.push(s(n)),n=n.parentNode;if(t&&n!==t)throw new Error("Node mismatch while getting position within root");return r.reverse()};n.getUniquePosArray=c;var l=function(e,t){for(var n=e,r=0;r<t.length;r++)n=n.childNodes[t[r]];return n};n.applyUniquePosArray=l;var f=function(e){if(-1===e.message.indexOf("The operation is insecure."))throw e};n.eatInsecureOrThrow=f;var d=new Set(["class","id"]);n.getParentChain=function(e){for(var t,n=e;n;){var r={};t&&(r.child=t),r.attrs=(0,i.getDomAttributes)(n,d),r.tagName=n.tagName,t=r,n=n.parentElement}return t};var p=function(e){var t=e.defaultView||e.parentWindow;return{height:Math.max(e.body.scrollHeight,e.documentElement.scrollHeight,e.body.offsetHeight,e.documentElement.offsetHeight,e.body.clientHeight,e.documentElement.clientHeight),width:Math.max(e.body.scrollWidth,e.documentElement.scrollWidth,e.body.offsetWidth,e.documentElement.offsetWidth,e.body.clientWidth,e.documentElement.clientWidth),top:t.scrollY,left:t.scrollX}};n.getDocumentScrollProps=p;var h=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise(function(o,i){function a(e){r(s,o,i,a,u,"next",e)}function u(e){r(s,o,i,a,u,"throw",e)}var s=e.apply(t,n);a(void 0)})}}(o.default.mark(function e(t,n){var r,i,a,u,s,c,l,f,d,h,y,m,v,b,g=arguments;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=g.length>2&&void 0!==g[2]?g[2]:5e3,t.html.scroll){e.next=3;break}return e.abrupt("return");case 3:i=function(e){return new Promise(function(t){return setTimeout(t,e)})},a=p(n),u=a.height,s=a.width,c=30,l=t.html.scroll,f=l.height,d=l.width,h=l.top,y=l.left;case 7:if(!(u<f||s<d)){e.next=19;break}if(!(r<0)){e.next=11;break}return console.warn("Timeout waiting for full size render before scroll!"),e.abrupt("break",19);case 11:return e.next=13,i(c);case 13:r-=c,m=p(n),v=m.height,b=m.width,u=v,s=b,e.next=7;break;case 19:(n.defaultView||n.parentWindow).scrollTo(y,h);case 21:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}();n.waitForFullHeightFrameRenderAndScroll=h;var y=function(e,t){if(""===(t=t.trim()))return t;if(!/^[a-zA-Z-]*:\/\//.test(t)){if(t.startsWith("//"))return e.protocol+t;if(t.startsWith("/"))return e.origin+t;if(t.startsWith("#"))return t;var n=e.pathname.lastIndexOf("/"),r="";return-1!==n&&(r=e.pathname.substring(0,n)),e.origin+r+"/"+t}return t};n.fullUrl=y;var m=function(e,t,n){var r=y(e,t),o=r.lastIndexOf("#"),i="";return o>-1&&(i=r.substring(o),r=r.substring(0,o)),n(r)+i};n.transformUrl=m;n.deJavascriptify=function e(t){"SCRIPT"===t.tagName&&(t.innerHTML="",t.setAttribute("src",""));for(var n=0;n<t.attributes.length;++n)t.attributes[n].name.startsWith("on")&&t.setAttribute(t.attributes[n].name,"");if("http://www.w3.org/2000/svg"===t.namespaceURI)for(var r=0;r<t.childNodes.length;++r)1===t.childNodes[r].nodeType&&e(t.childNodes[r]);else for(var o=0;o<t.children.length;++o)e(t.children[o])};n.selfContainify=function e(t,n,r){r||(r=function(e){return e});var o=a.EXTERNAL_RESOURCE_ATTRS[t.tagName];if(o&&("META"!==t.tagName||"viewport"!==t.name&&"description"!==t.name&&"keywords"!==t.name))for(var i=0;i<o.length;++i){var u=o[i];if(t.hasAttribute(u))if("IFRAME"!==t.tagName&&"FRAME"!==t.tagName||"src"!==u){if(t.getAttribute(u).startsWith("data"))continue;var s=m(n,t.getAttribute(u),r);t.setAttribute(u,s)}else t.setAttribute(u,"about:blank")}if("http://www.w3.org/2000/svg"===t.namespaceURI)for(var c=0;c<t.childNodes.length;++c)1===t.childNodes[c].nodeType&&e(t.childNodes[c],n,r);else for(var l=0;l<t.children.length;++l)e(t.children[l],n,r)};var v=function(e,t){for(var n=t.childNodes.length-1;n>=0;--n)t.removeChild(t.childNodes[n]);for(var r=t.attributes.length-1;r>=0;--r){var o=t.attributes[r];t.removeAttribute(o.name)}for(var i=e.attributes.length-1;i>=0;--i){var a=e.attributes[i];t.setAttribute(a.name,a.value)}for(var u=e.childNodes.length-1;u>=0;--u){var s=e.childNodes[u];e.removeChild(s),t.insertBefore(s,t.firstChild)}};n.moveRootToRoot=v;var b=function(e,t,n){if(n)try{var r="<!DOCTYPE "+[n.name,n.publicId,n.systemId].join(" ")+">";t.write(r+"\n"+t.documentElement.outerHTML)}catch(e){f(e);var o=document.implementation.createDocumentType(n.name,n.publicId,n.systemdId);t.doctype.parentNode.replaceChild(o,t.doctype)}else t.write(t.documentElement.outerHTML);v(e.documentElement,t.documentElement)};n.moveDocToDoc=b;var g=function(e,t){return(0,i.domFragmentToJson)(e,t)};n.saveHTML=g;var E=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=t?t.implementation.createHTMLDocument(""):document.implementation.createHTMLDocument(""),r=(0,i.jsonToDomFragment)(e,n);return v(r,n.documentElement),n};n.restoreHTML=E;var w=function e(t,n){for(var r=g(t,n),o=[],i=t.querySelectorAll("iframe, frame"),a=0;a<i.length;++a){var u=i[a],s=c(u);try{var l=u.contentDocument.documentElement}catch(e){console.warn("failed to capture "+u.src),console.error(e);continue}var f=null;(f=l?e(l):{html:"{}",frames:[]}).uniqueArray=s,o.push(f)}return{html:r,frames:o}};n.saveHTMLRecursive=w;var O=function(e){var t=E(e.html),n={};return n.top=n,t.__defineGetter__("defaultView",function(){return n}),_(t,e.frames),t};n.restoreHTMLRecursive=O;var _=function e(t,n){for(var r=t.documentElement,o=function(o){var i=l(r,n[o].uniqueArray),a=E(n[o].html);i.contentDocument?(b(a,i.contentDocument),a.defaultView||a.__defineGetter__("defaultView",function(){return{top:t.defaultView.top,frameElement:i}})):(a.__defineGetter__("defaultView",function(){return{top:t.defaultView.top,frameElement:i}}),i.__defineGetter__("contentDocument",function(){return a})),e(a,n[o].frames)},i=0;i<n.length;++i)o(i)};n.restoreFramesRecursive=_;var S=function e(t){for(var n=[],r=t.styleSheets,o=0;o<r.length;++o)for(var i=r[o],a=0;a<i.cssRules.length;++a)n.push(i.cssRules[a].cssText);for(var u=[],s=t.querySelectorAll("iframe, frame"),l=0;l<s.length;++l){var f=s[l],d=c(f),p=e(f.contentWindow.document);p.uniqueArray=d,u.push(p)}return{css:n,frames:u}};n.saveCss=S;n.saveConstructedStylesheets=function(e){if(!e.styleSheets)return[];for(var t=[],n=Array.from(e.styleSheets).filter(function(e){return!e.href&&function(e){return!e||!e.innerText||""===e.innerText.trim()}(e.ownerNode)}),r=0;r<n.length;++r){for(var o=n[r],i=c(o.ownerNode),a=[],u=0;u<o.cssRules.length;++u)a.push(o.cssRules[u].cssText);t.push({uniquePosArray:i,rules:a})}return t};n.restoreConstructedStyles=function(e,t){for(var n=0;n<t.length;++n)for(var r=t[n],o=l(e.documentElement,r.uniquePosArray),i=r.rules.length-1;i>=0;--i){var a=r.rules[i];o.sheet.insertRule(a,0)}};var T=function e(t,n){if(0===t.styleSheets.length)throw new Error("restoring css not implemented");var r=t.styleSheets[0];if(r){r.insertRule("noscript { display: none; }",0);for(var o=0;o<n.css.length;++o)r.insertRule(n.css[o],o)}for(var i=t.documentElement,a=0;a<n.frames.length;++a){e(l(i,n.frames[a].uniqueArray).contentWindow.document,n.frames[a])}};n.restoreCss=T;n.saveFullDocument=function(e){return{jsonDoc:w(e.documentElement),jsonCss:S(e)}};n.restoreFullDocument=function(e,t){var n=e.jsonDoc,r=O(n);b(r,t);var o=e.jsonCss;T(t,o)}},{"./consts":6,"./jxon":8,"@babel/runtime/regenerator":1}],8:[function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.jsonToDomFragment=n.domFragmentToJson=n.getDomAttributes=void 0;var o=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set,n={},r=0;r<e.attributes.length;r++){var o=e.attributes.item(r),i=o.name,a=o.value;if(!t.size||t.has(i)){var u=e.attributes.item(r).namespaceURI;n[i]=u?[a,u]:a}}return n};n.getDomAttributes=o;n.domFragmentToJson=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!1},r={type:t.nodeType};if(1===t.nodeType){if(r.name=t.nodeName,r.children=[],n(t)){var i=t.getBoundingClientRect();r.omitted={display:window.getComputedStyle(t).display,width:i.width,height:i.height}}else for(var a=0;a<t.childNodes.length;++a)r.children.push(e(t.childNodes[a],n));t.attributes&&t.attributes.length&&(r.attrs=o(t)),("INPUT"===t.nodeName&&!["checkbox","radio"].includes(t.type)||"TEXTAREA"===t.nodeName)&&(r.inputVal="",function(e){if(!e.attributes)return!1;for(var t=0;t<e.attributes.length;t++){var n=e.attributes.item(t);if("type"===n.name)return"password"===n.value}return!1}(t)||n(t)||(r.inputVal=t.value)),"http://www.w3.org/1999/xhtml"===t.namespaceURI||("http://www.w3.org/2000/svg"===t.namespaceURI?r.ns="svg":r.ns=t.namespaceURI)}else{if(3!==t.nodeType&&8!==t.nodeType)throw new Error("Cannot handle nodetype "+t.nodeType);r.value=t.nodeValue}return r};n.jsonToDomFragment=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=document;n&&(o=n);var i=navigator.userAgent.search("Chrome")>0?trustedTypes.createPolicy("forceTrust",{createHTML:function(e){return e},createScriptURL:function(e){return e}}):null;if(!t||"object"!==r(t))throw new Error("Invalid jxon");if(1===t.type){var a=null;try{if(t.ns){var u=t.ns;"svg"===u&&(u="http://www.w3.org/2000/svg"),a=o.createElementNS(u,t.name)}else a=o.createElement(t.name)}catch(e){throw new Error("Failed to create element, please use valid HTML tags")}for(var s=0;s<t.children.length;++s)a.appendChild(e(t.children[s],n));for(var c in t.attrs)try{"iframe"===t.name.toLowerCase()&&"src"===c.toLowerCase()?a.setAttribute(c,"about:blank"):Array.isArray(t.attrs[c])?a.setAttributeNS(t.attrs[c][1],c,t.attrs[c][0]):a.setAttribute(c,t.attrs[c])}catch(e){}return t.omitted&&(a.style.width=t.omitted.width,a.style.height=t.omitted.height,a.style.background="repeating-linear-gradient(45deg, #db7676, #db7676 10px, #dba0a0 10px, #dba0a0 20px)",a.style.display="inline"===t.omitted.display?"inline-block":t.omitted.display),"SCRIPT"===a.tagName&&(i?(a.innerHTML=i.createHTML(""),a.setAttribute("src",i.createScriptURL(""))):(a.innerHTML="",a.setAttribute("src",""))),("INPUT"===a.tagName&&"file"!==a.type||"TEXTAREA"===a.tagName)&&t.inputVal&&(a.value=t.inputVal),a}if(3===t.type)return o.createTextNode(t.value);if(8===t.type)return o.createComment(t.value);throw new Error("Unknown node type "+t.type)}},{}],9:[function(e,t,n){"use strict";!function(){function e(e){return new Promise(function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function n(t,n,r){var o,i=new Promise(function(i,a){e(o=t[n].apply(t,r)).then(i,a)});return i.request=o,i}function r(e,t,n){n.forEach(function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})})}function o(e,t,r,o){o.forEach(function(o){o in r.prototype&&(e.prototype[o]=function(){return n(this[t],o,arguments)})})}function i(e,t,n,r){r.forEach(function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})})}function a(e,t,r,o){o.forEach(function(o){o in r.prototype&&(e.prototype[o]=function(){return function(e,t,r){var o=n(e,t,r);return o.then(function(e){if(e)return new s(e,o.request)})}(this[t],o,arguments)})})}function u(e){this._index=e}function s(e,t){this._cursor=e,this._request=t}function c(e){this._store=e}function l(e){this._tx=e,this.complete=new Promise(function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}})}function f(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new l(n)}function d(e){this._db=e}r(u,"_index",["name","keyPath","multiEntry","unique"]),o(u,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),a(u,"_index",IDBIndex,["openCursor","openKeyCursor"]),r(s,"_cursor",["direction","key","primaryKey","value"]),o(s,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(t){t in IDBCursor.prototype&&(s.prototype[t]=function(){var n=this,r=arguments;return Promise.resolve().then(function(){return n._cursor[t].apply(n._cursor,r),e(n._request).then(function(e){if(e)return new s(e,n._request)})})})}),c.prototype.createIndex=function(){return new u(this._store.createIndex.apply(this._store,arguments))},c.prototype.index=function(){return new u(this._store.index.apply(this._store,arguments))},r(c,"_store",["name","keyPath","indexNames","autoIncrement"]),o(c,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),a(c,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),i(c,"_store",IDBObjectStore,["deleteIndex"]),l.prototype.objectStore=function(){return new c(this._tx.objectStore.apply(this._tx,arguments))},r(l,"_tx",["objectStoreNames","mode"]),i(l,"_tx",IDBTransaction,["abort"]),f.prototype.createObjectStore=function(){return new c(this._db.createObjectStore.apply(this._db,arguments))},r(f,"_db",["name","version","objectStoreNames"]),i(f,"_db",IDBDatabase,["deleteObjectStore","close"]),d.prototype.transaction=function(){return new l(this._db.transaction.apply(this._db,arguments))},r(d,"_db",["name","version","objectStoreNames"]),i(d,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(e){[c,u].forEach(function(t){t.prototype[e.replace("open","iterate")]=function(){var t=function(e){return Array.prototype.slice.call(e)}(arguments),n=t[t.length-1],r=this._store||this._index,o=r[e].apply(r,t.slice(0,-1));o.onsuccess=function(){n(o.result)}}})}),[u,c].forEach(function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise(function(o){n.iterateCursor(e,function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():o(r)):o(r)})})})});var p={open:function(e,t,r){var o=n(indexedDB,"open",[e,t]),i=o.request;return i.onupgradeneeded=function(e){r&&r(new f(i.result,e.oldVersion,i.transaction))},o.then(function(e){return new d(e)})},delete:function(e){return n(indexedDB,"deleteDatabase",[e])}};void 0!==t?(t.exports=p,t.exports.default=t.exports):self.idb=p}()},{}],10:[function(e,t,n){!function(){var n=e("crypt"),r=e("charenc").utf8,o=e("is-buffer"),i=e("charenc").bin,a=function(e,t){e.constructor==String?e=t&&"binary"===t.encoding?i.stringToBytes(e):r.stringToBytes(e):o(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||(e=e.toString());for(var u=n.bytesToWords(e),s=8*e.length,c=1732584193,l=-271733879,f=-1732584194,d=271733878,p=0;p<u.length;p++)u[p]=16711935&(u[p]<<8|u[p]>>>24)|4278255360&(u[p]<<24|u[p]>>>8);u[s>>>5]|=128<<s%32,u[14+(s+64>>>9<<4)]=s;var h=a._ff,y=a._gg,m=a._hh,v=a._ii;for(p=0;p<u.length;p+=16){var b=c,g=l,E=f,w=d;l=v(l=v(l=v(l=v(l=m(l=m(l=m(l=m(l=y(l=y(l=y(l=y(l=h(l=h(l=h(l=h(l,f=h(f,d=h(d,c=h(c,l,f,d,u[p+0],7,-680876936),l,f,u[p+1],12,-389564586),c,l,u[p+2],17,606105819),d,c,u[p+3],22,-1044525330),f=h(f,d=h(d,c=h(c,l,f,d,u[p+4],7,-176418897),l,f,u[p+5],12,1200080426),c,l,u[p+6],17,-1473231341),d,c,u[p+7],22,-45705983),f=h(f,d=h(d,c=h(c,l,f,d,u[p+8],7,1770035416),l,f,u[p+9],12,-1958414417),c,l,u[p+10],17,-42063),d,c,u[p+11],22,-1990404162),f=h(f,d=h(d,c=h(c,l,f,d,u[p+12],7,1804603682),l,f,u[p+13],12,-40341101),c,l,u[p+14],17,-1502002290),d,c,u[p+15],22,1236535329),f=y(f,d=y(d,c=y(c,l,f,d,u[p+1],5,-165796510),l,f,u[p+6],9,-1069501632),c,l,u[p+11],14,643717713),d,c,u[p+0],20,-373897302),f=y(f,d=y(d,c=y(c,l,f,d,u[p+5],5,-701558691),l,f,u[p+10],9,38016083),c,l,u[p+15],14,-660478335),d,c,u[p+4],20,-405537848),f=y(f,d=y(d,c=y(c,l,f,d,u[p+9],5,568446438),l,f,u[p+14],9,-1019803690),c,l,u[p+3],14,-187363961),d,c,u[p+8],20,1163531501),f=y(f,d=y(d,c=y(c,l,f,d,u[p+13],5,-1444681467),l,f,u[p+2],9,-51403784),c,l,u[p+7],14,1735328473),d,c,u[p+12],20,-1926607734),f=m(f,d=m(d,c=m(c,l,f,d,u[p+5],4,-378558),l,f,u[p+8],11,-2022574463),c,l,u[p+11],16,1839030562),d,c,u[p+14],23,-35309556),f=m(f,d=m(d,c=m(c,l,f,d,u[p+1],4,-1530992060),l,f,u[p+4],11,1272893353),c,l,u[p+7],16,-155497632),d,c,u[p+10],23,-1094730640),f=m(f,d=m(d,c=m(c,l,f,d,u[p+13],4,681279174),l,f,u[p+0],11,-358537222),c,l,u[p+3],16,-722521979),d,c,u[p+6],23,76029189),f=m(f,d=m(d,c=m(c,l,f,d,u[p+9],4,-640364487),l,f,u[p+12],11,-421815835),c,l,u[p+15],16,530742520),d,c,u[p+2],23,-995338651),f=v(f,d=v(d,c=v(c,l,f,d,u[p+0],6,-198630844),l,f,u[p+7],10,1126891415),c,l,u[p+14],15,-1416354905),d,c,u[p+5],21,-57434055),f=v(f,d=v(d,c=v(c,l,f,d,u[p+12],6,1700485571),l,f,u[p+3],10,-1894986606),c,l,u[p+10],15,-1051523),d,c,u[p+1],21,-2054922799),f=v(f,d=v(d,c=v(c,l,f,d,u[p+8],6,1873313359),l,f,u[p+15],10,-30611744),c,l,u[p+6],15,-1560198380),d,c,u[p+13],21,1309151649),f=v(f,d=v(d,c=v(c,l,f,d,u[p+4],6,-145523070),l,f,u[p+11],10,-1120210379),c,l,u[p+2],15,718787259),d,c,u[p+9],21,-343485551),c=c+b>>>0,l=l+g>>>0,f=f+E>>>0,d=d+w>>>0}return n.endian([c,l,f,d])};a._ff=function(e,t,n,r,o,i,a){var u=e+(t&n|~t&r)+(o>>>0)+a;return(u<<i|u>>>32-i)+t},a._gg=function(e,t,n,r,o,i,a){var u=e+(t&r|n&~r)+(o>>>0)+a;return(u<<i|u>>>32-i)+t},a._hh=function(e,t,n,r,o,i,a){var u=e+(t^n^r)+(o>>>0)+a;return(u<<i|u>>>32-i)+t},a._ii=function(e,t,n,r,o,i,a){var u=e+(n^(t|~r))+(o>>>0)+a;return(u<<i|u>>>32-i)+t},a._blocksize=16,a._digestsize=16,t.exports=function(e,t){if(void 0===e||null===e)throw new Error("Illegal argument "+e);var r=n.wordsToBytes(a(e,t));return t&&t.asBytes?r:t&&t.asString?i.bytesToString(r):n.bytesToHex(r)}}()},{charenc:11,crypt:12,"is-buffer":13}],11:[function(e,t,n){var r={utf8:{stringToBytes:function(e){return r.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(r.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}};t.exports=r},{}],12:[function(e,t,n){!function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&n.rotl(e,8)|4278255360&n.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=n.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,r=0;n<e.length;n++,r+=8)t[r>>>5]|=e[n]<<24-r%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(t){for(var n=[],r=0;r<t.length;r+=3)for(var o=t[r]<<16|t[r+1]<<8|t[r+2],i=0;i<4;i++)8*r+6*i<=8*t.length?n.push(e.charAt(o>>>6*(3-i)&63)):n.push("=");return n.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],r=0,o=0;r<t.length;o=++r%4)0!=o&&n.push((e.indexOf(t.charAt(r-1))&Math.pow(2,-2*o+8)-1)<<2*o|e.indexOf(t.charAt(r))>>>6-2*o);return n}};t.exports=n}()},{}],13:[function(e,t,n){function r(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}t.exports=function(e){return null!=e&&(r(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&r(e.slice(0,0))}(e)||!!e._isBuffer)}},{}],14:[function(e,t,n){!function(e){"use strict";function r(e,t,n){var r="XMLHttpRequest"in window?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");return r.open("POST",e,!1),r.withCredentials=!0,r.setRequestHeader("Accept","*/*"),"string"==typeof t?(r.setRequestHeader("Content-Type","text/plain;charset=UTF-8"),r.responseType="text/plain"):"[object Blob]"===Object.prototype.toString.call(t)&&t.type&&r.setRequestHeader("Content-Type",t.type),"object"==typeof n&&(isNaN(n.timeout)||setTimeout(function(){4!==r.readyState&&r.abort()},n.timeout)),r.send(t),!0}void 0!==n?(void 0!==t&&t.exports&&(n=t.exports=r),n.sendBeacon=r):"function"==typeof define&&define.amd?define([],function(){return r}):"navigator"in e&&!("sendBeacon"in e.navigator)&&(e.navigator.sendBeacon=r)}(this)},{}],15:[function(e,t,n){(function(e){(function(){!function(e,r){"object"==typeof n&&void 0!==t?t.exports=r():"function"==typeof define&&define.amd?define("underscore",r):(e="undefined"!=typeof globalThis?globalThis:e||self,function(){var t=e._,n=e._=r();n.noConflict=function(){return e._=t,n}}())}(this,function(){function t(e,t){return t=null==t?e.length-1:+t,function(){for(var n=Math.max(arguments.length-t,0),r=Array(n),o=0;o<n;o++)r[o]=arguments[o+t];switch(t){case 0:return e.call(this,r);case 1:return e.call(this,arguments[0],r);case 2:return e.call(this,arguments[0],arguments[1],r)}var i=Array(t+1);for(o=0;o<t;o++)i[o]=arguments[o];return i[t]=r,e.apply(this,i)}}function n(e){var t=typeof e;return"function"===t||"object"===t&&!!e}function r(e){return void 0===e}function o(e){return!0===e||!1===e||"[object Boolean]"===we.call(e)}function i(e){var t="[object "+e+"]";return function(e){return we.call(e)===t}}function a(e,t){return null!=e&&Oe.call(e,t)}function u(e){return xe(e)&&je(e)}function s(e){return function(){return e}}function c(e){return function(t){var n=e(t);return"number"==typeof n&&n>=0&&n<=Ne}}function l(e){return function(t){return null==t?void 0:t[e]}}function f(e,t){t=function(e){for(var t={},n=e.length,r=0;r<n;++r)t[e[r]]=!0;return{contains:function(e){return t[e]},push:function(n){return t[n]=!0,e.push(n)}}}(t);var n=De.length,r=e.constructor,o=Ve(r)&&r.prototype||ve,i="constructor";for(a(e,i)&&!t.contains(i)&&t.push(i);n--;)(i=De[n])in e&&e[i]!==o[i]&&!t.contains(i)&&t.push(i)}function d(e){if(!n(e))return[];if(Ae)return Ae(e);var t=[];for(var r in e)a(e,r)&&t.push(r);return Ie&&f(e,t),t}function p(e,t){var n=d(t),r=n.length;if(null==e)return!r;for(var o=Object(e),i=0;i<r;i++){var a=n[i];if(t[a]!==o[a]||!(a in o))return!1}return!0}function h(e){return e instanceof h?e:this instanceof h?void(this._wrapped=e):new h(e)}function y(e){return new Uint8Array(e.buffer||e,e.byteOffset||0,$e(e))}function m(e,t,n,r){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var o=typeof e;return("function"===o||"object"===o||"object"==typeof t)&&v(e,t,n,r)}function v(e,t,n,r){e instanceof h&&(e=e._wrapped),t instanceof h&&(t=t._wrapped);var o=we.call(e);if(o!==we.call(t))return!1;if(ze&&"[object Object]"==o&&Je(e)){if(!Je(t))return!1;o=rt}switch(o){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return be.valueOf.call(e)===be.valueOf.call(t);case"[object ArrayBuffer]":case rt:return v(y(e),y(t),n,r)}var i="[object Array]"===o;if(!i&&tt(e)){if($e(e)!==$e(t))return!1;if(e.buffer===t.buffer&&e.byteOffset===t.byteOffset)return!0;i=!0}if(!i){if("object"!=typeof e||"object"!=typeof t)return!1;var u=e.constructor,s=t.constructor;if(u!==s&&!(Ve(u)&&u instanceof u&&Ve(s)&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],r=r||[];for(var c=n.length;c--;)if(n[c]===e)return r[c]===t;if(n.push(e),r.push(t),i){if((c=e.length)!==t.length)return!1;for(;c--;)if(!m(e[c],t[c],n,r))return!1}else{var l,f=d(e);if(c=f.length,d(t).length!==c)return!1;for(;c--;)if(l=f[c],!a(t,l)||!m(e[l],t[l],n,r))return!1}return n.pop(),r.pop(),!0}function b(e){if(!n(e))return[];var t=[];for(var r in e)t.push(r);return Ie&&f(e,t),t}function g(e){var t=nt(e);return function(n){if(null==n)return!1;var r=b(n);if(nt(r))return!1;for(var o=0;o<t;o++)if(!Ve(n[e[o]]))return!1;return e!==st||!Ve(n[ot])}}function E(e){for(var t=d(e),n=t.length,r=Array(n),o=0;o<n;o++)r[o]=e[t[o]];return r}function w(e){for(var t={},n=d(e),r=0,o=n.length;r<o;r++)t[e[n[r]]]=n[r];return t}function O(e){var t=[];for(var n in e)Ve(e[n])&&t.push(n);return t.sort()}function _(e,t){return function(n){var r=arguments.length;if(t&&(n=Object(n)),r<2||null==n)return n;for(var o=1;o<r;o++)for(var i=arguments[o],a=e(i),u=a.length,s=0;s<u;s++){var c=a[s];t&&void 0!==n[c]||(n[c]=i[c])}return n}}function S(e){if(!n(e))return{};if(Me)return Me(e);var t=function(){};t.prototype=e;var r=new t;return t.prototype=null,r}function T(e){return n(e)?Ye(e)?e.slice():ht({},e):e}function A(e){return Ye(e)?e:[e]}function M(e){return h.toPath(e)}function P(e,t){for(var n=t.length,r=0;r<n;r++){if(null==e)return;e=e[t[r]]}return n?e:void 0}function j(e,t,n){var o=P(e,M(t));return r(o)?n:o}function R(e){return e}function I(e){return e=yt({},e),function(t){return p(t,e)}}function D(e){return e=M(e),function(t){return P(t,e)}}function N(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,o){return e.call(t,n,r,o)};case 4:return function(n,r,o,i){return e.call(t,n,r,o,i)}}return function(){return e.apply(t,arguments)}}function C(e,t,r){return null==e?R:Ve(e)?N(e,t,r):n(e)&&!Ye(e)?I(e):D(e)}function x(e,t){return C(e,t,1/0)}function L(e,t,n){return h.iteratee!==x?h.iteratee(e,t):C(e,t,n)}function B(){}function k(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))}function H(e){var t=function(t){return e[t]},n="(?:"+d(e).join("|")+")",r=RegExp(n),o=RegExp(n,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(o,t):e}}function U(e){return"\\"+_t[e]}function W(e,t,r,o,i){if(!(o instanceof t))return e.apply(r,i);var a=S(e.prototype),u=e.apply(a,i);return n(u)?u:a}function F(e,t,n,r){if(r=r||[],t||0===t){if(t<=0)return r.concat(e)}else t=1/0;for(var o=r.length,i=0,a=nt(e);i<a;i++){var u=e[i];if(jt(u)&&(Ye(u)||Ke(u)))if(t>1)F(u,t-1,n,r),o=r.length;else for(var s=0,c=u.length;s<c;)r[o++]=u[s++];else n||(r[o++]=u)}return r}function V(e){return function(){return!e.apply(this,arguments)}}function G(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}}function z(e,t,n){t=L(t,n);for(var r,o=d(e),i=0,a=o.length;i<a;i++)if(r=o[i],t(e[r],r,e))return r}function q(e){return function(t,n,r){n=L(n,r);for(var o=nt(t),i=e>0?0:o-1;i>=0&&i<o;i+=e)if(n(t[i],i,t))return i;return-1}}function X(e,t,n,r){for(var o=(n=L(n,r,1))(t),i=0,a=nt(e);i<a;){var u=Math.floor((i+a)/2);n(e[u])<o?i=u+1:a=u}return i}function J(e,t,n){return function(r,o,i){var a=0,s=nt(r);if("number"==typeof i)e>0?a=i>=0?i:Math.max(i+s,a):s=i>=0?Math.min(i+1,s):i+s+1;else if(n&&i&&s)return i=n(r,o),r[i]===o?i:-1;if(o!=o)return(i=t(Ee.call(r,a,s),u))>=0?i+a:-1;for(i=e>0?a:s-1;i>=0&&i<s;i+=e)if(r[i]===o)return i;return-1}}function Y(e,t,n){var r=(jt(e)?Ct:z)(e,t,n);if(void 0!==r&&-1!==r)return e[r]}function Z(e,t,n){t=N(t,n);var r,o;if(jt(e))for(r=0,o=e.length;r<o;r++)t(e[r],r,e);else{var i=d(e);for(r=0,o=i.length;r<o;r++)t(e[i[r]],i[r],e)}return e}function K(e,t,n){t=L(t,n);for(var r=!jt(e)&&d(e),o=(r||e).length,i=Array(o),a=0;a<o;a++){var u=r?r[a]:a;i[a]=t(e[u],u,e)}return i}function $(e){return function(t,n,r,o){var i=arguments.length>=3;return function(t,n,r,o){var i=!jt(t)&&d(t),a=(i||t).length,u=e>0?0:a-1;for(o||(r=t[i?i[u]:u],u+=e);u>=0&&u<a;u+=e){var s=i?i[u]:u;r=n(r,t[s],s,t)}return r}(t,N(n,o,4),r,i)}}function Q(e,t,n){var r=[];return t=L(t,n),Z(e,function(e,n,o){t(e,n,o)&&r.push(e)}),r}function ee(e,t,n){t=L(t,n);for(var r=!jt(e)&&d(e),o=(r||e).length,i=0;i<o;i++){var a=r?r[i]:i;if(!t(e[a],a,e))return!1}return!0}function te(e,t,n){t=L(t,n);for(var r=!jt(e)&&d(e),o=(r||e).length,i=0;i<o;i++){var a=r?r[i]:i;if(t(e[a],a,e))return!0}return!1}function ne(e,t,n,r){return jt(e)||(e=E(e)),("number"!=typeof n||r)&&(n=0),Lt(e,t,n)>=0}function re(e,t){return K(e,D(t))}function oe(e,t,n){var r,o,i=-1/0,a=-1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var u=0,s=(e=jt(e)?e:E(e)).length;u<s;u++)null!=(r=e[u])&&r>i&&(i=r);else t=L(t,n),Z(e,function(e,n,r){((o=t(e,n,r))>a||o===-1/0&&i===-1/0)&&(i=e,a=o)});return i}function ie(e,t,n){if(null==t||n)return jt(e)||(e=E(e)),e[k(e.length-1)];var r=jt(e)?T(e):E(e),o=nt(r);t=Math.max(Math.min(t,o),0);for(var i=o-1,a=0;a<t;a++){var u=k(a,i),s=r[a];r[a]=r[u],r[u]=s}return r.slice(0,t)}function ae(e,t){return function(n,r,o){var i=t?[[],[]]:{};return r=L(r,o),Z(n,function(t,o){var a=r(t,o,n);e(i,t,a)}),i}}function ue(e,t,n){return t in n}function se(e,t,n){return Ee.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))}function ce(e,t,n){return null==e||e.length<1?null==t||n?void 0:[]:null==t||n?e[0]:se(e,e.length-t)}function le(e,t,n){return Ee.call(e,null==t||n?1:t)}function fe(e,t,n,r){o(t)||(r=n,n=t,t=!1),null!=n&&(n=L(n,r));for(var i=[],a=[],u=0,s=nt(e);u<s;u++){var c=e[u],l=n?n(c,u,e):c;t&&!n?(u&&a===l||i.push(c),a=l):n?ne(a,l)||(a.push(l),i.push(c)):ne(i,c)||i.push(c)}return i}function de(e){for(var t=e&&oe(e,nt).length||0,n=Array(t),r=0;r<t;r++)n[r]=re(e,r);return n}function pe(e,t){return e._chain?h(t).chain():t}function he(e){return Z(O(e),function(t){var n=h[t]=e[t];h.prototype[t]=function(){var e=[this._wrapped];return ge.apply(e,arguments),pe(this,n.apply(h,e))}}),h}var ye="object"==typeof self&&self.self===self&&self||"object"==typeof e&&e.global===e&&e||Function("return this")()||{},me=Array.prototype,ve=Object.prototype,be="undefined"!=typeof Symbol?Symbol.prototype:null,ge=me.push,Ee=me.slice,we=ve.toString,Oe=ve.hasOwnProperty,_e="undefined"!=typeof ArrayBuffer,Se="undefined"!=typeof DataView,Te=Array.isArray,Ae=Object.keys,Me=Object.create,Pe=_e&&ArrayBuffer.isView,je=isNaN,Re=isFinite,Ie=!{toString:null}.propertyIsEnumerable("toString"),De=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],Ne=Math.pow(2,53)-1,Ce=i("String"),xe=i("Number"),Le=i("Date"),Be=i("RegExp"),ke=i("Error"),He=i("Symbol"),Ue=i("ArrayBuffer"),We=i("Function"),Fe=ye.document&&ye.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof Fe&&(We=function(e){return"function"==typeof e||!1});var Ve=We,Ge=i("Object"),ze=Se&&Ge(new DataView(new ArrayBuffer(8))),qe="undefined"!=typeof Map&&Ge(new Map),Xe=i("DataView"),Je=ze?function(e){return null!=e&&Ve(e.getInt8)&&Ue(e.buffer)}:Xe,Ye=Te||i("Array"),Ze=i("Arguments");!function(){Ze(arguments)||(Ze=function(e){return a(e,"callee")})}();var Ke=Ze,$e=l("byteLength"),Qe=c($e),et=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/,tt=_e?function(e){return Pe?Pe(e)&&!Je(e):Qe(e)&&et.test(we.call(e))}:s(!1),nt=l("length");h.VERSION="1.13.1",h.prototype.value=function(){return this._wrapped},h.prototype.valueOf=h.prototype.toJSON=h.prototype.value,h.prototype.toString=function(){return String(this._wrapped)};var rt="[object DataView]",ot="forEach",it=["clear","delete"],at=["get","has","set"],ut=it.concat(ot,at),st=it.concat(at),ct=["add"].concat(it,ot,"has"),lt=qe?g(ut):i("Map"),ft=qe?g(st):i("WeakMap"),dt=qe?g(ct):i("Set"),pt=i("WeakSet"),ht=_(b),yt=_(d),mt=_(b,!0);h.toPath=A,h.iteratee=x;var vt=Date.now||function(){return(new Date).getTime()},bt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},gt=H(bt),Et=H(w(bt)),wt=h.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},Ot=/(.)^/,_t={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},St=/\\|'|\r|\n|\u2028|\u2029/g,Tt=/^\s*(\w|\$)+\s*$/,At=0,Mt=t(function(e,t){var n=Mt.placeholder,r=function(){for(var o=0,i=t.length,a=Array(i),u=0;u<i;u++)a[u]=t[u]===n?arguments[o++]:t[u];for(;o<arguments.length;)a.push(arguments[o++]);return W(e,r,this,this,a)};return r});Mt.placeholder=h;var Pt=t(function(e,n,r){if(!Ve(e))throw new TypeError("Bind must be called on a function");var o=t(function(t){return W(e,o,n,this,r.concat(t))});return o}),jt=c(nt),Rt=t(function(e,t){var n=(t=F(t,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=t[n];e[r]=Pt(e[r],e)}return e}),It=t(function(e,t,n){return setTimeout(function(){return e.apply(null,n)},t)}),Dt=Mt(It,h,1),Nt=Mt(G,2),Ct=q(1),xt=q(-1),Lt=J(1,Ct,X),Bt=J(-1,xt),kt=$(1),Ht=$(-1),Ut=t(function(e,t,n){var r,o;return Ve(t)?o=t:(t=M(t),r=t.slice(0,-1),t=t[t.length-1]),K(e,function(e){var i=o;if(!i){if(r&&r.length&&(e=P(e,r)),null==e)return;i=e[t]}return null==i?i:i.apply(e,n)})}),Wt=ae(function(e,t,n){a(e,n)?e[n].push(t):e[n]=[t]}),Ft=ae(function(e,t,n){e[n]=t}),Vt=ae(function(e,t,n){a(e,n)?e[n]++:e[n]=1}),Gt=ae(function(e,t,n){e[n?0:1].push(t)},!0),zt=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g,qt=t(function(e,t){var n={},r=t[0];if(null==e)return n;Ve(r)?(t.length>1&&(r=N(r,t[1])),t=b(e)):(r=ue,t=F(t,!1,!1),e=Object(e));for(var o=0,i=t.length;o<i;o++){var a=t[o],u=e[a];r(u,a,e)&&(n[a]=u)}return n}),Xt=t(function(e,t){var n,r=t[0];return Ve(r)?(r=V(r),t.length>1&&(n=t[1])):(t=K(F(t,!1,!1),String),r=function(e,n){return!ne(t,n)}),qt(e,r,n)}),Jt=t(function(e,t){return t=F(t,!0,!0),Q(e,function(e){return!ne(t,e)})}),Yt=t(function(e,t){return Jt(e,t)}),Zt=t(function(e){return fe(F(e,!0,!0))}),Kt=t(de);Z(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=me[e];h.prototype[e]=function(){var n=this._wrapped;return null!=n&&(t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0]),pe(this,n)}}),Z(["concat","join","slice"],function(e){var t=me[e];h.prototype[e]=function(){var e=this._wrapped;return null!=e&&(e=t.apply(e,arguments)),pe(this,e)}});var $t=he({__proto__:null,VERSION:"1.13.1",restArguments:t,isObject:n,isNull:function(e){return null===e},isUndefined:r,isBoolean:o,isElement:function(e){return!(!e||1!==e.nodeType)},isString:Ce,isNumber:xe,isDate:Le,isRegExp:Be,isError:ke,isSymbol:He,isArrayBuffer:Ue,isDataView:Je,isArray:Ye,isFunction:Ve,isArguments:Ke,isFinite:function(e){return!He(e)&&Re(e)&&!isNaN(parseFloat(e))},isNaN:u,isTypedArray:tt,isEmpty:function(e){if(null==e)return!0;var t=nt(e);return"number"==typeof t&&(Ye(e)||Ce(e)||Ke(e))?0===t:0===nt(d(e))},isMatch:p,isEqual:function(e,t){return m(e,t)},isMap:lt,isWeakMap:ft,isSet:dt,isWeakSet:pt,keys:d,allKeys:b,values:E,pairs:function(e){for(var t=d(e),n=t.length,r=Array(n),o=0;o<n;o++)r[o]=[t[o],e[t[o]]];return r},invert:w,functions:O,methods:O,extend:ht,extendOwn:yt,assign:yt,defaults:mt,create:function(e,t){var n=S(e);return t&&yt(n,t),n},clone:T,tap:function(e,t){return t(e),e},get:j,has:function(e,t){for(var n=(t=M(t)).length,r=0;r<n;r++){var o=t[r];if(!a(e,o))return!1;e=e[o]}return!!n},mapObject:function(e,t,n){t=L(t,n);for(var r=d(e),o=r.length,i={},a=0;a<o;a++){var u=r[a];i[u]=t(e[u],u,e)}return i},identity:R,constant:s,noop:B,toPath:A,property:D,propertyOf:function(e){return null==e?B:function(t){return j(e,t)}},matcher:I,matches:I,times:function(e,t,n){var r=Array(Math.max(0,e));t=N(t,n,1);for(var o=0;o<e;o++)r[o]=t(o);return r},random:k,now:vt,escape:gt,unescape:Et,templateSettings:wt,template:function(e,t,n){!t&&n&&(t=n),t=mt({},t,h.templateSettings);var r=RegExp([(t.escape||Ot).source,(t.interpolate||Ot).source,(t.evaluate||Ot).source].join("|")+"|$","g"),o=0,i="__p+='";e.replace(r,function(t,n,r,a,u){return i+=e.slice(o,u).replace(St,U),o=u+t.length,n?i+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?i+="'+\n((__t=("+r+"))==null?'':__t)+\n'":a&&(i+="';\n"+a+"\n__p+='"),t}),i+="';\n";var a=t.variable;if(a){if(!Tt.test(a))throw new Error("variable is not a bare identifier: "+a)}else i="with(obj||{}){\n"+i+"}\n",a="obj";i="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+i+"return __p;\n";var u;try{u=new Function(a,"_",i)}catch(e){throw e.source=i,e}var s=function(e){return u.call(this,e,h)};return s.source="function("+a+"){\n"+i+"}",s},result:function(e,t,n){var r=(t=M(t)).length;if(!r)return Ve(n)?n.call(e):n;for(var o=0;o<r;o++){var i=null==e?void 0:e[t[o]];void 0===i&&(i=n,o=r),e=Ve(i)?i.call(e):i}return e},uniqueId:function(e){var t=++At+"";return e?e+t:t},chain:function(e){var t=h(e);return t._chain=!0,t},iteratee:x,partial:Mt,bind:Pt,bindAll:Rt,memoize:function(e,t){var n=function(r){var o=n.cache,i=""+(t?t.apply(this,arguments):r);return a(o,i)||(o[i]=e.apply(this,arguments)),o[i]};return n.cache={},n},delay:It,defer:Dt,throttle:function(e,t,n){var r,o,i,a,u=0;n||(n={});var s=function(){u=!1===n.leading?0:vt(),r=null,a=e.apply(o,i),r||(o=i=null)},c=function(){var c=vt();u||!1!==n.leading||(u=c);var l=t-(c-u);return o=this,i=arguments,l<=0||l>t?(r&&(clearTimeout(r),r=null),u=c,a=e.apply(o,i),r||(o=i=null)):r||!1===n.trailing||(r=setTimeout(s,l)),a};return c.cancel=function(){clearTimeout(r),u=0,r=o=i=null},c},debounce:function(e,n,r){var o,i,a,u,s,c=function(){var t=vt()-i;n>t?o=setTimeout(c,n-t):(o=null,r||(u=e.apply(s,a)),o||(a=s=null))},l=t(function(t){return s=this,a=t,i=vt(),o||(o=setTimeout(c,n),r&&(u=e.apply(s,a))),u});return l.cancel=function(){clearTimeout(o),o=a=s=null},l},wrap:function(e,t){return Mt(t,e)},negate:V,compose:function(){var e=arguments,t=e.length-1;return function(){for(var n=t,r=e[t].apply(this,arguments);n--;)r=e[n].call(this,r);return r}},after:function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},before:G,once:Nt,findKey:z,findIndex:Ct,findLastIndex:xt,sortedIndex:X,indexOf:Lt,lastIndexOf:Bt,find:Y,detect:Y,findWhere:function(e,t){return Y(e,I(t))},each:Z,forEach:Z,map:K,collect:K,reduce:kt,foldl:kt,inject:kt,reduceRight:Ht,foldr:Ht,filter:Q,select:Q,reject:function(e,t,n){return Q(e,V(L(t)),n)},every:ee,all:ee,some:te,any:te,contains:ne,includes:ne,include:ne,invoke:Ut,pluck:re,where:function(e,t){return Q(e,I(t))},max:oe,min:function(e,t,n){var r,o,i=1/0,a=1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var u=0,s=(e=jt(e)?e:E(e)).length;u<s;u++)null!=(r=e[u])&&r<i&&(i=r);else t=L(t,n),Z(e,function(e,n,r){((o=t(e,n,r))<a||o===1/0&&i===1/0)&&(i=e,a=o)});return i},shuffle:function(e){return ie(e,1/0)},sample:ie,sortBy:function(e,t,n){var r=0;return t=L(t,n),re(K(e,function(e,n,o){return{value:e,index:r++,criteria:t(e,n,o)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return e.index-t.index}),"value")},groupBy:Wt,indexBy:Ft,countBy:Vt,partition:Gt,toArray:function(e){return e?Ye(e)?Ee.call(e):Ce(e)?e.match(zt):jt(e)?K(e,R):E(e):[]},size:function(e){return null==e?0:jt(e)?e.length:d(e).length},pick:qt,omit:Xt,first:ce,head:ce,take:ce,initial:se,last:function(e,t,n){return null==e||e.length<1?null==t||n?void 0:[]:null==t||n?e[e.length-1]:le(e,Math.max(0,e.length-t))},rest:le,tail:le,drop:le,compact:function(e){return Q(e,Boolean)},flatten:function(e,t){return F(e,t,!1)},without:Yt,uniq:fe,unique:fe,union:Zt,intersection:function(e){for(var t=[],n=arguments.length,r=0,o=nt(e);r<o;r++){var i=e[r];if(!ne(t,i)){var a;for(a=1;a<n&&ne(arguments[a],i);a++);a===n&&t.push(i)}}return t},difference:Jt,unzip:de,transpose:de,zip:Kt,object:function(e,t){for(var n={},r=0,o=nt(e);r<o;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},range:function(e,t,n){null==t&&(t=e||0,e=0),n||(n=t<e?-1:1);for(var r=Math.max(Math.ceil((t-e)/n),0),o=Array(r),i=0;i<r;i++,e+=n)o[i]=e;return o},chunk:function(e,t){if(null==t||t<1)return[];for(var n=[],r=0,o=e.length;r<o;)n.push(Ee.call(e,r,r+=t));return n},mixin:he,default:h});return $t._=$t,$t})}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],16:[function(e,t,n){!function(e,r){"object"==typeof n&&void 0!==t?r(n):"function"==typeof define&&define.amd?define(["exports"],r):r(e.WHATWGFetch={})}(this,function(e){"use strict";function t(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function n(e){return"string"!=typeof e&&(e=String(e)),e}function r(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return y.iterable&&(t[Symbol.iterator]=function(){return t}),t}function o(e){this.map={},e instanceof o?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function i(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function a(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function u(e){var t=new FileReader,n=a(t);return t.readAsArrayBuffer(e),n}function s(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function c(){return this.bodyUsed=!1,this._initBody=function(e){this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:y.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:y.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:y.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():y.arrayBuffer&&y.blob&&function(e){return e&&DataView.prototype.isPrototypeOf(e)}(e)?(this._bodyArrayBuffer=s(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):y.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||v(e))?this._bodyArrayBuffer=s(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):y.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},y.blob&&(this.blob=function(){var e=i(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=i(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}return this.blob().then(u)}),this.text=function(){var e=i(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,n=a(t);return t.readAsText(e),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},y.formData&&(this.formData=function(){return this.text().then(f)}),this.json=function(){return this.text().then(JSON.parse)},this}function l(e,t){if(!(this instanceof l))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n=(t=t||{}).body;if(e instanceof l){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new o(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new o(t.headers)),this.method=function(e){var t=e.toUpperCase();return b.indexOf(t)>-1?t:e}(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(n),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==t.cache&&"no-cache"!==t.cache)){var r=/([?&])_=[^&]*/;if(r.test(this.url))this.url=this.url.replace(r,"$1_="+(new Date).getTime());else{var i=/\?/;this.url+=(i.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function f(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(o))}}),t}function d(e,t){if(!(this instanceof d))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"",this.headers=new o(t.headers),this.url=t.url||"",this._initBody(e)}function p(t,r){return new Promise(function(i,a){function u(){c.abort()}var s=new l(t,r);if(s.signal&&s.signal.aborted)return a(new e.DOMException("Aborted","AbortError"));var c=new XMLHttpRequest;c.onload=function(){var e={status:c.status,statusText:c.statusText,headers:function(e){var t=new o;return e.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e}).forEach(function(e){var n=e.split(":"),r=n.shift().trim();if(r){var o=n.join(":").trim();t.append(r,o)}}),t}(c.getAllResponseHeaders()||"")};e.url="responseURL"in c?c.responseURL:e.headers.get("X-Request-URL");var t="response"in c?c.response:c.responseText;setTimeout(function(){i(new d(t,e))},0)},c.onerror=function(){setTimeout(function(){a(new TypeError("Network request failed"))},0)},c.ontimeout=function(){setTimeout(function(){a(new TypeError("Network request failed"))},0)},c.onabort=function(){setTimeout(function(){a(new e.DOMException("Aborted","AbortError"))},0)},c.open(s.method,function(e){try{return""===e&&h.location.href?h.location.href:e}catch(t){return e}}(s.url),!0),"include"===s.credentials?c.withCredentials=!0:"omit"===s.credentials&&(c.withCredentials=!1),"responseType"in c&&(y.blob?c.responseType="blob":y.arrayBuffer&&s.headers.get("Content-Type")&&-1!==s.headers.get("Content-Type").indexOf("application/octet-stream")&&(c.responseType="arraybuffer")),!r||"object"!=typeof r.headers||r.headers instanceof o?s.headers.forEach(function(e,t){c.setRequestHeader(t,e)}):Object.getOwnPropertyNames(r.headers).forEach(function(e){c.setRequestHeader(e,n(r.headers[e]))}),s.signal&&(s.signal.addEventListener("abort",u),c.onreadystatechange=function(){4===c.readyState&&s.signal.removeEventListener("abort",u)}),c.send(void 0===s._bodyInit?null:s._bodyInit)})}var h="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==h&&h,y={searchParams:"URLSearchParams"in h,iterable:"Symbol"in h&&"iterator"in Symbol,blob:"FileReader"in h&&"Blob"in h&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in h,arrayBuffer:"ArrayBuffer"in h};if(y.arrayBuffer)var m=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],v=ArrayBuffer.isView||function(e){return e&&m.indexOf(Object.prototype.toString.call(e))>-1};o.prototype.append=function(e,r){e=t(e),r=n(r);var o=this.map[e];this.map[e]=o?o+", "+r:r},o.prototype.delete=function(e){delete this.map[t(e)]},o.prototype.get=function(e){return e=t(e),this.has(e)?this.map[e]:null},o.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},o.prototype.set=function(e,r){this.map[t(e)]=n(r)},o.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},o.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),r(e)},o.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),r(e)},o.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),r(e)},y.iterable&&(o.prototype[Symbol.iterator]=o.prototype.entries);var b=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];l.prototype.clone=function(){return new l(this,{body:this._bodyInit})},c.call(l.prototype),c.call(d.prototype),d.prototype.clone=function(){return new d(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new o(this.headers),url:this.url})},d.error=function(){var e=new d(null,{status:0,statusText:""});return e.type="error",e};var g=[301,302,303,307,308];d.redirect=function(e,t){if(-1===g.indexOf(t))throw new RangeError("Invalid status code");return new d(null,{status:t,headers:{location:e}})},e.DOMException=h.DOMException;try{new e.DOMException}catch(t){e.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}p.polyfill=!0,h.fetch||(h.fetch=p,h.Headers=o,h.Request=l,h.Response=d),e.Headers=o,e.Request=l,e.Response=d,e.fetch=p,Object.defineProperty(e,"__esModule",{value:!0})})},{}],17:[function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(n,"__esModule",{value:!0}),n.REPEATABLE_EVENTS=n.EVENT_TYPE_TO_INDEX=n.INDEX_TO_EVENT_TYPE=n.HUMAN_EVENTS=n.BROWSER_EVENTS=n.EVENTS_TO_INDEX=void 0;var i,a=function(e){return e&&e.__esModule?e:{default:e}}(e("../enum/eventTypesEnum")),u=new Set([a.default.MOUSEDOWN,a.default.RAGECLICK]);n.EVENTS_TO_INDEX=u;var s=new Set([a.default.MOUSEDOWN,a.default.MOUSEMOVE,a.default.MOUSEUP,a.default.RESIZE,a.default.SCROLL,a.default.INPUT]);n.BROWSER_EVENTS=s;var c=new Set([].concat(function(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(s),[a.default.RAGECLICK]));n.HUMAN_EVENTS=c;var l={0:a.default.MOUSEDOWN,1:a.default.MOUSEMOVE,2:a.default.MOUSEUP,3:a.default.RESIZE,4:a.default.SCROLL,6:a.default.SNDIFF,7:a.default.INPUT,8:a.default.LOADPAGE,9:a.default.SN,10:a.default.URL,11:a.default.STYLESHEET,12:a.default.RAGECLICK};n.INDEX_TO_EVENT_TYPE=l;var f=(i={},r(i,a.default.MOUSEDOWN,0),r(i,a.default.MOUSEMOVE,1),r(i,a.default.MOUSEUP,2),r(i,a.default.RESIZE,3),r(i,a.default.SCROLL,4),r(i,a.default.SNDIFF,6),r(i,a.default.INPUT,7),r(i,a.default.LOADPAGE,8),r(i,a.default.SN,9),r(i,a.default.URL,10),r(i,a.default.STYLESHEET,11),r(i,a.default.RAGECLICK,12),i);n.EVENT_TYPE_TO_INDEX=f;var d=new Map([[a.default.MOUSEDOWN,!0],[a.default.MOUSEMOVE,!1],[a.default.MOUSEUP,!0],[a.default.RESIZE,!1],[a.default.SCROLL,!1],[a.default.SN,!0],[a.default.SNDIFF,!0],[a.default.INPUT,!0],[a.default.LOADPAGE,!0],[a.default.URL,!0],[a.default.STYLESHEET,!0],[a.default.RAGECLICK,!0]]);n.REPEATABLE_EVENTS=d},{"../enum/eventTypesEnum":21}],18:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.EXTERNAL_RESOURCE_ATTRS=void 0;n.EXTERNAL_RESOURCE_ATTRS={BGSOUND:["src"],EMBED:["src"],IMG:["src"],IMAGE:["src"],INPUT:["src"],LINK:["href","src","urn"],TABLE:["background"],TD:["background"],TH:["background"],TR:["background"]}},{}],19:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"HUMAN_EVENTS",{enumerable:!0,get:function(){return r.HUMAN_EVENTS}}),Object.defineProperty(n,"BROWSER_EVENTS",{enumerable:!0,get:function(){return r.BROWSER_EVENTS}}),Object.defineProperty(n,"EVENTS_TO_INDEX",{enumerable:!0,get:function(){return r.EVENTS_TO_INDEX}}),Object.defineProperty(n,"INDEX_TO_EVENT_TYPE",{enumerable:!0,get:function(){return r.INDEX_TO_EVENT_TYPE}}),Object.defineProperty(n,"EVENT_TYPE_TO_INDEX",{enumerable:!0,get:function(){return r.EVENT_TYPE_TO_INDEX}}),Object.defineProperty(n,"REPEATABLE_EVENTS",{enumerable:!0,get:function(){return r.REPEATABLE_EVENTS}}),Object.defineProperty(n,"EXTERNAL_RESOURCE_ATTRS",{enumerable:!0,get:function(){return o.EXTERNAL_RESOURCE_ATTRS}});var r=e("./eventsConsts"),o=e("./externalResConsts")},{"./eventsConsts":17,"./externalResConsts":18}],20:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;n.default={SN_PLEASE:"m_sn_please",EMBED_EVENTS:"embed_events",EVENT_WATCHER_EVENTS:"eventWatcherEvents",EVENT_WATCHER_READY:"eventWatcherIsReady",INDEX_CHANGE:"iframeIndexChange",CHECK_PARENT_READINESS:"checkParentReadiness",PARENT_IS_READY:"parentIsReady",CHECK_EVENT_WATCHER_READINESS:"checkEventWatcherReadiness"}},{}],21:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;n.default={MOUSEDOWN:"mousedown",MOUSEMOVE:"mousemove",MOUSEUP:"mouseup",RESIZE:"resize",LOADPAGE:"m_loadpage",SCROLL:"scroll",SN:"m_sn",SNDIFF:"m_sndiff",INPUT:"input",URL:"url",STYLESHEET:"stylesheet",RAGECLICK:"rageclick"}},{}],22:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"commandsEnum",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(n,"eventTypesEnum",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(n,"stylesheetEventTypeEnum",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(n,"inputCompressEnum",{enumerable:!0,get:function(){return u.default}});var o=r(e("./commandsEnum")),i=r(e("./eventTypesEnum")),a=r(e("./stylesheetEventTypeEnum")),u=r(e("./inputCompressEnum"))},{"./commandsEnum":20,"./eventTypesEnum":21,"./inputCompressEnum":23,"./stylesheetEventTypeEnum":24}],23:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;n.default={SET:"S",ADD:"A",DELETE:"D"}},{}],24:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;n.default={INSERT:1,REMOVE:2,ADD:3,DELETE:4,SET_PROP:5}},{}],25:[function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(e("../enum/eventTypesEnum")),i=new Set(Object.values(o.default)),a=function(){function e(t,n){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!t)throw new Error("Event type cannot be null");if(!i.has(t))throw new Error("Unsupported event type cannot be null");if(n||(n=Date.now()),0===n)throw new Error("Time cannot be 0");this.time=n,this.type=t,this.frameId=0,this.sourceSnapshotToken=null}return function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(e,[{key:"toJson",value:function(){return{jsonified:!0,time:this.time,type:this.type,frameId:this.frameId,sourceSnapshotToken:this.sourceSnapshotToken}}}]),e}();n.default=a},{"../enum/eventTypesEnum":21}],26:[function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,o=l(e);if(t){var i=l(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var f=function(e){return e&&e.__esModule?e:{default:e}}(e("./SnBaseEvent")),d=function(e){function t(e,r,o){var i;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o||(o=window),!(e instanceof o.MouseEvent))throw new Error("Invalid mouse event");return i=n.call(this,e.type,r),i.clientX=e.clientX,i.clientY=e.clientY,i}!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,f.default);var n=c(t);return function(e,t,n){t&&a(e.prototype,t),n&&a(e,n)}(t,[{key:"toJson",value:function(){return i(i({},u(l(t.prototype),"toJson",this).call(this)),{},{clientX:this.clientX,clientY:this.clientY})}}]),t}();n.default=d},{"./SnBaseEvent":25}],27:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){"@babel/helpers - typeof";return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=f(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var d=r(e("./SnBaseEvent")),p=r(e("../enum/eventTypesEnum")),h=function(e){function t(e){var r;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=n.call(this,p.default.SNDIFF),!e)throw new Error("Diff data cannot be null");return r.diffData=e,r}!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,d.default);var n=l(t);return function(e,t,n){t&&u(e.prototype,t),n&&u(e,n)}(t,[{key:"toJson",value:function(){return a(a({},s(f(t.prototype),"toJson",this).call(this)),{},{diffData:this.diffData})}}]),t}();n.default=h},{"../enum/eventTypesEnum":21,"./SnBaseEvent":25}],28:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){"@babel/helpers - typeof";return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=f(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var d=r(e("./SnBaseEvent")),p=r(e("../enum/eventTypesEnum")),h=e("../../htmlutil"),y=function(e){function t(e,r){var o;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=n.call(this,p.default.INPUT,r),"INPUT"===e.target.tagName&&"password"===e.target.type.toLowerCase())throw new Error("Cannot capture input password event.");var i=(0,h.getUniquePosArray)(e.target);return o.target=i,o.value=e.target.value,o}!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,d.default);var n=l(t);return function(e,t,n){t&&u(e.prototype,t),n&&u(e,n)}(t,[{key:"toJson",value:function(){return a(a({},s(f(t.prototype),"toJson",this).call(this)),{},{target:this.target,value:this.value})}}]),t}();n.default=y},{"../../htmlutil":7,"../enum/eventTypesEnum":21,"./SnBaseEvent":25}],29:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){"@babel/helpers - typeof";return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=f(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var d=r(e("./SnBaseEvent")),p=r(e("../enum/eventTypesEnum")),h=function(e){function t(e,r){var o;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=n.call(this,p.default.LOADPAGE),null===e||null===r)throw new Error("Invalid resize event");return o.clientHeight=r,o.clientWidth=e,o}!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,d.default);var n=l(t);return function(e,t,n){t&&u(e.prototype,t),n&&u(e,n)}(t,[{key:"toJson",value:function(){return a(a({},s(f(t.prototype),"toJson",this).call(this)),{},{clientHeight:this.clientHeight,clientWidth:this.clientWidth})}}]),t}();n.default=h},{"../enum/eventTypesEnum":21,"./SnBaseEvent":25}],30:[function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,o=l(e);if(t){var i=l(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var f=function(e){return e&&e.__esModule?e:{default:e}}(e("./SnBaseMouseEvent")),d=function(e){function t(e,r,o){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i=n.call(this,e,r,o),i.which=e.which,i}!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,f.default);var n=c(t);return function(e,t,n){t&&a(e.prototype,t),n&&a(e,n)}(t,[{key:"toJson",value:function(){return i(i({},u(l(t.prototype),"toJson",this).call(this)),{},{which:this.which})}}]),t}();n.default=d},{"./SnBaseMouseEvent":26}],31:[function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,o=l(e);if(t){var i=l(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var f=function(e){return e&&e.__esModule?e:{default:e}}(e("./SnBaseMouseEvent")),d=function(e){function t(e,r,o){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i=n.call(this,e,r,o),i.which=e.which,"buttons"in e&&(1&e.buttons?i.which=1:4&e.buttons?i.which=2:2&e.buttons?i.which=3:i.which=0),i}!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,f.default);var n=c(t);return function(e,t,n){t&&a(e.prototype,t),n&&a(e,n)}(t,[{key:"toJson",value:function(){return i(i({},u(l(t.prototype),"toJson",this).call(this)),{},{which:this.which})}}]),t}();n.default=d},{"./SnBaseMouseEvent":26}],32:[function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,o=a(e);if(t){var i=a(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var u=function(e){return e&&e.__esModule?e:{default:e}}(e("./SnBaseMouseEvent")),s=function(e){function t(e,r,o){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n.call(this,e,r,o)}!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(t,u.default);var n=i(t);return t}();n.default=s},{"./SnBaseMouseEvent":26}],33:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){"@babel/helpers - typeof";return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=f(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var d=r(e("./SnBaseEvent")),p=r(e("../enum/eventTypesEnum")),h=function(e){function t(e,r){var o;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=n.call(this,p.default.RESIZE,r),!e||!e.target)throw new Error("Invalid resize event");return o.clientWidth=e.target.innerWidth,o.clientHeight=e.target.innerHeight,o}!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,d.default);var n=l(t);return function(e,t,n){t&&u(e.prototype,t),n&&u(e,n)}(t,[{key:"toJson",value:function(){return a(a({},s(f(t.prototype),"toJson",this).call(this)),{},{clientHeight:this.clientHeight,clientWidth:this.clientWidth})}}]),t}();n.default=h},{"../enum/eventTypesEnum":21,"./SnBaseEvent":25}],34:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){"@babel/helpers - typeof";return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=f(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var d=r(e("./SnBaseEvent")),p=r(e("../enum/eventTypesEnum")),h=e("../../htmlutil"),y=function(e){return e===document||e instanceof HTMLDocument},m=function(e){function t(e,r){var o;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=n.call(this,p.default.SCROLL,r),!e.target)throw new Error("Event target cannot be null");var i=e.target;if(y(i)){var a=i.defaultView;o.target=[],o.scrollTop=parseInt(a.pageYOffset),o.scrollLeft=parseInt(a.pageXOffset)}else o.target=(0,h.getUniquePosArray)(i),o.scrollTop=i.scrollTop,o.scrollLeft=i.scrollLeft;return o}!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,d.default);var n=l(t);return function(e,t,n){t&&u(e.prototype,t),n&&u(e,n)}(t,[{key:"toJson",value:function(){return a(a({},s(f(t.prototype),"toJson",this).call(this)),{},{target:this.target,scrollTop:this.scrollTop,scrollLeft:this.scrollLeft})}}]),t}();n.default=m},{"../../htmlutil":7,"../enum/eventTypesEnum":21,"./SnBaseEvent":25}],35:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){"@babel/helpers - typeof";return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=f(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var d=r(e("./SnBaseEvent")),p=r(e("../enum/eventTypesEnum")),h=function(){var e=navigator.userAgent,t=window.screen.width+"x"+window.screen.height;return"".concat(e," screen/").concat(t)},y=function(e){function t(e,r){var o;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=n.call(this,p.default.SN),!e)throw new Error("SnapshottpClient cannot be null");if(!r)throw new Error("Target cannot be null");return o.snapshotData=e.getSnapshotData(r.document),o.clientWidth=r.innerWidth,o.clientHeight=r.innerHeight,o.userInfo=h(),o.frameAddress=null,o}!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,d.default);var n=l(t);return function(e,t,n){t&&u(e.prototype,t),n&&u(e,n)}(t,[{key:"toJson",value:function(){return a(a({},s(f(t.prototype),"toJson",this).call(this)),{},{snapshotData:this.snapshotData,frameAddress:this.frameAddress,clientWidth:this.clientWidth,clientHeight:this.clientHeight})}}]),t}();n.default=y},{"../enum/eventTypesEnum":21,"./SnBaseEvent":25}],36:[function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,o=l(e);if(t){var i=l(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var f=function(e){return e&&e.__esModule?e:{default:e}}(e("./SnBaseEvent")),d=e("../../htmlutil"),p=e("../enum"),h=new Set(Object.values(p.stylesheetEventTypeEnum)),y=function(e){function t(e,r,o){var i,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u=a.style,s=void 0===u?null:u,c=a.selector,l=void 0===c?null:c,f=a.rule,y=void 0===f?null:f,m=a.propertyName,v=void 0===m?null:m,b=a.value,g=void 0===b?null:b,E=a.priority,w=void 0===E?void 0:E;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i=n.call(this,p.eventTypesEnum.STYLESHEET),!h.has(e))throw new Error("Stylesheet operation ".concat(e," is not supported"));if(i.operation=e,i.index=r,i.uniquePosArray=(0,d.getUniquePosArray)(o),e===p.stylesheetEventTypeEnum.ADD){if(null===s||null===l)throw new Error("Stylesheet add operation must have style and selector");i.style=s,i.selector=l}else if(e===p.stylesheetEventTypeEnum.INSERT){if(null===y)throw new Error("Style sheet insert operation must have rule");i.rule=y}else if(e===p.stylesheetEventTypeEnum.SET_PROP){if(null===v||null===g)throw new Error("Style sheet set property for declaration operation must have propertyName and value");i.propertyName=v,i.value=g,i.priority=w}return i}!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,f.default);var n=c(t);return function(e,t,n){t&&a(e.prototype,t),n&&a(e,n)}(t,[{key:"toJson",value:function(){return i(i({},u(l(t.prototype),"toJson",this).call(this)),{},{operation:this.operation,index:this.index,uniquePosArray:this.uniquePosArray,style:this.style,selector:this.selector,rule:this.rule,propertyName:this.propertyName,value:this.value,priority:this.priority})}}]),t}();n.default=y},{"../../htmlutil":7,"../enum":22,"./SnBaseEvent":25}],37:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){"@babel/helpers - typeof";return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=f(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var d=r(e("./SnBaseEvent")),p=r(e("../enum/eventTypesEnum")),h=function(e){function t(e){var r;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=n.call(this,p.default.URL),!e||0===e.length)throw new Error("Url cannot be null");return r.url=e,r}!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,d.default);var n=l(t);return function(e,t,n){t&&u(e.prototype,t),n&&u(e,n)}(t,[{key:"toJson",value:function(){return a(a({},s(f(t.prototype),"toJson",this).call(this)),{},{url:this.url})}}]),t}();n.default=h},{"../enum/eventTypesEnum":21,"./SnBaseEvent":25}],38:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i,a=r(e("../enum/eventTypesEnum")),u=r(e("./SnMouseMoveEvent")),s=r(e("./SnMouseDownEvent")),c=r(e("./SnMouseUpEvent")),l=r(e("./SnResizeEvent")),f=r(e("./SnScrollEvent")),d=r(e("./SnInputEvent")),p=(i={},o(i,a.default.MOUSEMOVE,u.default),o(i,a.default.MOUSEDOWN,s.default),o(i,a.default.MOUSEUP,c.default),o(i,a.default.RESIZE,l.default),o(i,a.default.SCROLL,f.default),o(i,a.default.INPUT,d.default),i);n.default=function(e,t,n){if(!e)throw new Error("event object cannot be null");var r=p[e.type];if(!r)throw new Error("Event type is not supported: ".concat(e.type));return new r(e,t,n)}},{"../enum/eventTypesEnum":21,"./SnInputEvent":28,"./SnMouseDownEvent":30,"./SnMouseMoveEvent":31,"./SnMouseUpEvent":32,"./SnResizeEvent":33,"./SnScrollEvent":34}],39:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"SnBaseEvent",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(n,"SnBaseMouseEvent",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(n,"SnMouseMoveEvent",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(n,"SnMouseDownEvent",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(n,"SnMouseUpEvent",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(n,"SnResizeEvent",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(n,"SnScrollEvent",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(n,"SnInputEvent",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(n,"SnStylesheetEvent",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(n,"SnSnapshotEvent",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(n,"SnUrlEvent",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(n,"SnLoadPageEvent",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(n,"SnDiffEvent",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(n,"browserSnEventFactory",{enumerable:!0,get:function(){return v.default}});var o=r(e("./SnBaseEvent")),i=r(e("./SnBaseMouseEvent")),a=r(e("./SnMouseMoveEvent")),u=r(e("./SnMouseDownEvent")),s=r(e("./SnMouseUpEvent")),c=r(e("./SnResizeEvent")),l=r(e("./SnScrollEvent")),f=r(e("./SnInputEvent")),d=r(e("./SnStylesheetEvent")),p=r(e("./SnSnapshotEvent")),h=r(e("./SnUrlEvent")),y=r(e("./SnLoadPageEvent")),m=r(e("./SnDiffEvent")),v=r(e("./browserSnEventFactory"))},{"./SnBaseEvent":25,"./SnBaseMouseEvent":26,"./SnDiffEvent":27,"./SnInputEvent":28,"./SnLoadPageEvent":29,"./SnMouseDownEvent":30,"./SnMouseMoveEvent":31,"./SnMouseUpEvent":32,"./SnResizeEvent":33,"./SnScrollEvent":34,"./SnSnapshotEvent":35,"./SnStylesheetEvent":36,"./SnUrlEvent":37,"./browserSnEventFactory":38}],40:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("../../enum"),o=function(e){return e&&e.__esModule?e:{default:e}}(e("../../util/containsDoNotTrackClass"));n.default=function(e){return!(e.type!==r.eventTypesEnum.INPUT||!e.target)&&(0,o.default)(e.target)}},{"../../enum":22,"../../util/containsDoNotTrackClass":47}],41:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("../../enum");n.default=function(e){return e.type===r.eventTypesEnum.INPUT&&e.target&&"true"===e.target.getAttribute("contenteditable")}},{"../../enum":22}],42:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("../../enum");n.default=function(e){return!(e.type!==r.eventTypesEnum.INPUT||!e.target)&&"INPUT"===e.target.tagName&&"password"===e.target.type.toLowerCase()}},{"../../enum":22}],43:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;n.default=function(e,t){var n=e instanceof t.Event&&("scroll"===e.type||"resize"===e.type);if(!(e instanceof t.UIEvent||n))return!1;try{return!0===e.isTrusted}catch(e){return!1}}},{}],44:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=r(e("./isTrustedEvent")),i=r(e("./isPasswordInput")),a=r(e("./isContentEditable")),u=r(e("./inputEventContainsDoNotTrackClass"));n.default=function(e,t){return(0,o.default)(e,t)&&!(0,i.default)(e)&&!(0,a.default)(e)&&!(0,u.default)(e)}},{"./inputEventContainsDoNotTrackClass":40,"./isContentEditable":41,"./isPasswordInput":42,"./isTrustedEvent":43}],45:[function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,o=l(e);if(t){var i=l(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;return c(e)}(this,n)}}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(n,"__esModule",{value:!0}),n.EventTransmitter=n.ReadinessObserver=n.TopReadinessObserver=n.ReadinessObserverFactory=void 0;var p=e("../enum");n.ReadinessObserverFactory=function(e,t,n){return n?new y(e,t):new m(e,t)};var h=function e(t,n){var r=this;if(f(this,e),d(this,"setWindowId",function(e){r.windowId=e}),d(this,"setWindowIsReady",function(e){r.isWindowReady=e}),d(this,"isReady",function(){return r.isWindowReady&&r.isParentReady}),d(this,"notifyReadinessToSource",function(e){if(r.isWindowReady){r.childFramesMap.has(e)||(r.childFrameCount++,r.childFramesMap.set(e,r.childFrameCount));var t=r.childFramesMap.get(e),n=r.windowId?"".concat(r.windowId,"-").concat(t):t.toString();e.postMessage({type:p.commandsEnum.PARENT_IS_READY,frameId:n},"*")}}),d(this,"messageHandler",function(e){var t=e.data;t.type===p.commandsEnum.CHECK_PARENT_READINESS?r.notifyReadinessToSource(e.source):t.type===p.commandsEnum.PARENT_IS_READY?r.handleParentIsReady(t):t.type===p.commandsEnum.EVENT_WATCHER_READY&&r.handleEventWatcherIsReady()}),d(this,"handleEventWatcherIsReady",function(){r.setWindowId(null),r.setParentIsReady()}),d(this,"handleParentIsReady",function(e){r.setWindowId(e.frameId),r.setParentIsReady()}),d(this,"setParentIsReady",function(){r.parentIsReadyAlreadyHandled||(r.parentIsReadyAlreadyHandled=!0,r.isParentReady=!0,r.parentIsReadyCallback(r.windowId))}),!parent)throw new Error("Parent cannot be null");if(!n)throw new Error("callback cannot be null");this.parent=t.parent,this.parentIsReadyCallback=n,this.isParentReady=!1,this.isWindowReady=!1,this.target=t,this.windowId=null,this.childFramesMap=new Map,this.childFrameCount=0,t.addEventListener("message",this.messageHandler)},y=function(e){function t(e,r){var o;return f(this,t),o=n.call(this,e,r),e.setTimeout(function(){o.handleEventWatcherIsReady(),e.readyToReceiveEvents=!0},100),o}a(t,h);var n=s(t);return t}();n.TopReadinessObserver=y;var m=function(e){function t(e,r){var o;f(this,t);return o=n.call(this,e,function(t){o.checkInterval&&e.clearInterval(o.checkInterval),r(t)}),d(c(o),"sendToParent",function(e){o.target._snapshottp_sendToParent?o.target._snapshottp_sendToParent(e):o.parent.postMessage(e,"*")}),o.checkInterval=e.setInterval(function(){o.sendToParent({type:p.commandsEnum.CHECK_PARENT_READINESS})},100),o}a(t,h);var n=s(t);return t}();n.ReadinessObserver=m;n.EventTransmitter=function e(t){var n=this;f(this,e),d(this,"checkReadiness",function(){n.watcherFrame&&(window.addEventListener("message",n.messageHandler),n.checkInterval=window.setInterval(function(){n.watcherFrame.postMessage({type:p.commandsEnum.CHECK_EVENT_WATCHER_READINESS},"*")},100))}),d(this,"messageHandler",function(e){e.data.type===p.commandsEnum.EVENT_WATCHER_READY&&(window.clearInterval(n.checkInterval),n.transmitEvents(n.eventList.splice(0),n.indexedEventList.splice(0)),n.isReady=!0)}),d(this,"gatherEvents",function(e,t){return t.length>0&&(e=[].concat(o(t),o(e)),t.length=0),e}),d(this,"transmitEvents",function(e,t){n.watcherFrame&&n.watcherFrame.postMessage({type:p.commandsEnum.EVENT_WATCHER_EVENTS,events:e,indexedEvents:t},"*")}),d(this,"sendEvents",function(e,t){n.isReady?(e=n.gatherEvents(e,n.eventList),t=n.gatherEvents(t,n.indexedEventList),n.transmitEvents(e,t)):n.deferEvents(e,t)}),d(this,"deferEvents",function(e,t){var r,i;(r=n.eventList).push.apply(r,o(e)),(i=n.indexedEventList).push.apply(i,o(t))}),this.isReady=!1,this.eventList=[],this.indexedEventList=[],this.watcherFrame=t,this.checkReadiness()}},{"../enum":22}],46:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){"@babel/helpers - typeof";return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){l(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function u(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.record=void 0;var f=e("../../htmlutil"),d=e("../enum"),p=e("../consts"),h=e("../events"),y=e("./ReadinessObserver"),m=r(e("../events/validation/validateBrowserEvent")),v=r(e("../util/containsDoNotTrackClass")),b=e("../../snapshottpUtils"),g=new Set([d.eventTypesEnum.RESIZE,d.eventTypesEnum.LOADPAGE,d.eventTypesEnum.URL]),E=function(e){return"HTMLIFrameElement"===e},w=function(e,t,n){var r=function(e){var t,n=null===e||void 0===e?void 0:null===(t=e.constructor)||void 0===t?void 0:t.name;if(!E(n)&&!function(e){return"HTMLDocument"===e||"Document"===e}(n))throw new Error("target must be an iframe element or a document"+". Got ".concat(n,": ").concat(e));return E(n)?e.contentWindow:e.defaultView}(e);return void 0===t.isTop&&(t.isTop=!0),new O(r,t,n)};n.record=w;var O=function(){function e(t,n){var r=this,i=n.host,s=n.events_to_index,c=void 0===s?p.EVENTS_TO_INDEX:s,m=n.omitFn,E=n.sendEventBufferInterval,O=void 0===E?50:E,_=n.isTop,S=void 0!==_&&_,T=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),l(this,"handleMessage",function(e){var t=e.data;t.type===d.commandsEnum.SN_PLEASE?r.handleSnPlease(t):t.type===d.commandsEnum.EMBED_EVENTS&&r.handleEmbedEvents(e,t)}),l(this,"flushObserverMutations",function(){if(r.observer){var e=r.observer.takeRecords();r.handleMutations(e)}}),l(this,"addStylesheetChangeEventToBuffer",function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};try{if((0,v.default)(e))return;r.flushObserverMutations();var i=new h.SnStylesheetEvent(t,n,e,o);r.addToBuffer(i)}catch(e){if(e instanceof f.NodeParentNullException)return;throw e}}),l(this,"watchStylesheetChanges",function(){var e=r.targetWindow.CSSStyleSheet,t=r.targetWindow.CSSStyleDeclaration,n=e.prototype.insertRule,o=e.prototype.removeRule,i=e.prototype.addRule,a=e.prototype.deleteRule,u=t.prototype.setProperty,s=r;e.prototype.insertRule=function(e,t){for(var r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];n.call.apply(n,[this,e,t].concat(o)),s.addStylesheetChangeEventToBuffer(this.ownerNode,d.stylesheetEventTypeEnum.INSERT,t,{rule:e})},e.prototype.removeRule=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];o.call.apply(o,[this,e].concat(n)),s.addStylesheetChangeEventToBuffer(this.ownerNode,d.stylesheetEventTypeEnum.REMOVE,e)},e.prototype.addRule=function(e,t,n){for(var r=arguments.length,o=new Array(r>3?r-3:0),a=3;a<r;a++)o[a-3]=arguments[a];i.call.apply(i,[this,e,t,n].concat(o)),s.addStylesheetChangeEventToBuffer(this.ownerNode,d.stylesheetEventTypeEnum.ADD,n,{style:t,selector:e})},e.prototype.deleteRule=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];a.call.apply(a,[this,e].concat(n)),s.addStylesheetChangeEventToBuffer(this.ownerNode,d.stylesheetEventTypeEnum.DELETE,e)},t.prototype.setProperty=function(e,t,n){var r=this.getPropertyValue(e),o=this.getPropertyPriority(e);u.call(this,e,t,n);var i=this.getPropertyValue(e),a=this.getPropertyPriority(e);if((r!==i||o!==a)&&null!==this.parentRule&&null!==this.parentRule.parentStyleSheet){var c=this.parentRule,l=c.parentStyleSheet,f=Array.from(l.cssRules).indexOf(c);-1!==f&&s.addStylesheetChangeEventToBuffer(l.ownerNode,d.stylesheetEventTypeEnum.SET_PROP,f,{propertyName:e,value:t,priority:n})}}}),l(this,"watchDOMChanges",function(){r.observer=new r.targetWindow.MutationObserver(r.handleMutations),r.observer.observe(r.targetWindow.document.documentElement,{childList:!0,attributes:!0,characterData:!0,subtree:!0,attributeOldValue:!1,characterDataOldValue:!1})}),l(this,"trackAddedIframes",function(e){for(var t=e.map(function(e){return Array.from(e.addedNodes)}).flat(1).filter(function(e){return"IFRAME"===e.tagName}),n=0;n<t.length;n++){var o=t[n];r.trackFrame(o.contentWindow)}}),l(this,"handleMutations",function(e){if(e&&0!==e.length){r.trackAddedIframes(e);var t=r.snapshottpClient.getDiffData(e,JSON.stringify(r.targetWindow.location));t&&0!==t.length&&r.addToBuffer(new h.SnDiffEvent(t))}}),l(this,"handleReadyToReceive",function(e){r.myFrameId=e,r.addToBuffer(new h.SnSnapshotEvent(r.snapshottpClient,r.targetWindow),{isFirstSnapshot:!0}),r.trackFrames(),r.watchDOMChanges(),r.watchStylesheetChanges(),r.readinessObserver.setWindowIsReady(!0),r.targetWindow.clearInterval(r.eventInteval),r.eventInterval=r.targetWindow.setInterval(r.sendEventBuffer,r.sendEventBufferInterval)}),l(this,"handleSnPlease",function(e){r.lastSnapshotToken=e.sourceSnapshotToken,r.addToBuffer(new h.SnSnapshotEvent(r.snapshottpClient,r.targetWindow));for(var t=0;t<r.childFrames.length;++t)if(r.childFrames[t].postMessage)try{r.childFrames[t].postMessage({type:d.commandsEnum.SN_PLEASE,sourceSnapshotToken:e.sourceSnapshotToken},"*")}catch(e){console.error("Failed to send SN please"),console.error(r.childFrames[t])}}),l(this,"handleUrl",function(e){e!==r.lastUrl&&(r.addToBuffer(new h.SnUrlEvent(e)),r.lastUrl=e)}),l(this,"addPageLoadEvent",function(){r.addToBuffer(new h.SnLoadPageEvent(r.targetWindow.innerWidth,r.targetWindow.innerHeight))}),l(this,"handleEmbedEvents",function(e,t){var n;if(e.source!==r.targetWindow){var o=Array.from(r.targetWindow.document.getElementsByTagName("iframe")).find(function(t){return t.contentWindow===e.source});if(o){if(!(0,v.default)(o)){for(var i=r.setFrameAddressToChildSnapshotEvents(t.events,o),a=0;a<i.length;a++)r.addToBuffer(i[a],{fromEmbed:!0});(n=r.indexedEventBuffer).push.apply(n,u(t.indexedEvents))}}else console.error("Source frame of event not found. ",e)}}),l(this,"setFrameAddressToChildSnapshotEvents",function(e,t){var n=(0,f.getUniquePosArray)(t);return n.unshift(r.myFrameId||0),e.map(function(e){return e.frameId&&e.type===d.eventTypesEnum.SN?a(a({},e),{},{frameAddress:n}):e})}),l(this,"shouldHandleEventInThisFrame",function(e){return!e.frameId||!g.has(e.type)}),l(this,"sendEventBuffer",function(){if(r.readinessObserver.isReady()&&0!==r.eventBuffer.length){var e=r.eventBuffer.slice(0);r.eventBuffer.length=0;for(var t=0;t<e.length;t++){var n=e[t];n.frameId=n.frameId||r.myFrameId}var o=(e=e.filter(function(e){return r.shouldHandleEventInThisFrame(e)})).map(function(e){return!0===e.jsonified?e:e.toJson()}),i=r.indexedEventBuffer.slice(0);r.indexedEventBuffer.length=0,r.isTop?r.sendEvents&&r.sendEvents(e,i):r.readinessObserver.sendToParent({type:d.commandsEnum.EMBED_EVENTS,events:o,indexedEvents:i})}}),l(this,"addToBuffer",function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.isFirstSnapshot,i=void 0!==n&&n;t.fromEmbed;if(!e)throw new Error("Event cannot be null");if(!(e instanceof h.SnBaseEvent||e.jsonified))throw console.error("Event is not supported: ",e),new Error("Event is not supported: ".concat(o(e)));if(e.sourceSnapshotToken=r.lastSnapshotToken,i){if(e.type!==d.eventTypesEnum.SN)throw new Error("Only snapshot event is allowed to be inserted at front");r.eventBuffer.unshift(e)}else r.eventBuffer.push(e)}),l(this,"checkShouldIndexEvent",function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();if(p.EVENTS_TO_INDEX.has(e.type)){if(!e.target)throw new Error("Event does not have target to be indexed");var n=(0,f.getParentChain)(e.target);if(r.indexedEventBuffer.push({type:e.type,time:t,chainInfo:n}),e.type===d.eventTypesEnum.MOUSEDOWN){r.isRageClick(e.target)&&r.indexedEventBuffer.push({type:d.eventTypesEnum.RAGECLICK,time:t,chainInfo:n})}}}),l(this,"submitEvents",function(e){e.forEach(function(e){r.browserEventHandler(e.event,e.time)})}),l(this,"addEventListenersToTarget",function(){p.BROWSER_EVENTS.forEach(function(e){r.targetWindow.addEventListener(e,function(e){r.browserEventHandler(e)},!0)}),r.targetWindow.addEventListener("message",r.handleMessage),r.targetWindow.addEventListener("hashchange",function(){r.handleUrl(r.targetWindow.location.href)})}),l(this,"isRageClick",function(e){r.clickedElements.has(e.target)||r.clickedElements.set(e.target,[]);var t=[].concat(u(r.clickedElements.get(e.target)),[Date.now()]).filter(function(e){return Date.now()-e<5e3});return t.length>=5?(r.clickedElements.set(e.target,[]),!0):(r.clickedElements.set(e.target,t),!1)}),l(this,"trackFrames",function(){var e=Array.from(r.targetWindow.document.getElementsByTagName("iframe"));r.childFrames=[];for(var t=0;t<e.length;++t){var n=e[t],o=n.contentWindow;if(!(0,v.default)(n))if(n.src.startsWith(r.host))r.childFrames.push(o);else{try{if(r.failedchildFrames.has(o))continue;if(o._embedAsyncEvent)continue}catch(e){r.failedchildFrames.set(o,!0);continue}r.trackFrame(o)}}}),l(this,"trackChildFrame",function(e){w(e.frameElement,{host:r.host,events_to_index:p.EVENTS_TO_INDEX,omitFn:r.omitFn,sendEventBufferInterval:r.sendEventBufferInterval,isTop:!1}),r.childFrames.push(e)}),l(this,"trackFrame",function(e){try{var t=e.document.createElement("script");t.textContent="\n        window._snapshottp_sendToParent = (data) => {\n          window.parent.postMessage(data, '*');\n        };\n      ";var n=function(){e.document.head.appendChild(t),r.trackChildFrame(e)};r.isIframeReady(e)?n():e.addEventListener("load",n)}catch(t){console.error("Failed to embed: ",e),console.error(t)}}),l(this,"isIframeReady",function(e){var t=e.document.URL,n=e.location.href,r=e.document.readyState;return"about:blank"!==n&&"about:blank"!==t&&"complete"===r}),this.sendEventBufferInterval=O,this.sendEvents=T,this.isTop=S,this.omitFn=m,this.targetWindow=t,this.host=i,this.snapshottpClient=new b.SnapshottpUtil({omitFn:m},t),this.events_to_index=c,this.observer=null,this.myFrameId=null,this.eventBuffer=[],this.indexedEventBuffer=[],this.childFrames=[],this.readinessObserver=(0,y.ReadinessObserverFactory)(t,this.handleReadyToReceive,S),this.eventInterval=null,this.lastSnapshotToken=null,this.lastUrl=null,this.clickedElements=new Map,this.failedchildFrames=new Map,this.addEventListenersToTarget(),t._embedAsyncEvent=this}return function(e,t,n){t&&c(e.prototype,t),n&&c(e,n)}(e,[{key:"browserEventHandler",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();if((0,m.default)(e,this.targetWindow)){var n=(0,h.browserSnEventFactory)(e,t,this.targetWindow);this.addToBuffer(n),this.checkShouldIndexEvent(e)}}}]),e}();n.default=O},{"../../htmlutil":7,"../../snapshottpUtils":50,"../consts":19,"../enum":22,"../events":39,"../events/validation/validateBrowserEvent":44,"../util/containsDoNotTrackClass":47,"./ReadinessObserver":45}],47:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){for(var t=e;;){if(!t)return!1;if(t.classList&&t.classList.contains("do-not-track"))return!0;if("HTML"===t.tagName)return!1;t=t.parentNode}}},{}],48:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n,r,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)}function s(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){function i(e){u(s,r,o,i,a,"next",e)}function a(e){u(s,r,o,i,a,"throw",e)}var s=e.apply(t,n);i(void 0)})}}function c(e){return l.apply(this,arguments)}function l(){return(l=s(f.default.mark(function e(t){var n,r;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=new y.default({type:t.storageType}),e.next=3,n.init();case 3:return r=new g(i(i({},t),{},{browserStorage:n})),e.abrupt("return",r);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=c,n.SnapshottpClient=n.getSnapshotBaseToken=n.isSnapshotBaseToken=n.safeSendBeacon=void 0;var f=r(e("@babel/runtime/regenerator")),d=r(e("navigator.sendbeacon"));e("whatwg-fetch");var p=e("./compress"),h=r(e("./snapshottp-logger")),y=r(e("./browser-storage-wrapper"));window._snapshottp_hitLimit=!1;var m=function(e,t,n){if(!window._snapshottp_hitLimit){var r=!1;if(navigator.sendBeacon){var o=new Blob([t],{type:"text/plain"});r=navigator.sendBeacon(e,o)}else n&&(r=(0,d.default)(e,t));return r?void 0:fetch(e,{method:"POST",credentials:"include",body:t}).then(function(e){return 429===e.status&&(window._snapshottp_hitLimit=!0),e})}};n.safeSendBeacon=m;var v=function(e){return 2===e.split("-").length};n.isSnapshotBaseToken=v;n.getSnapshotBaseToken=function(e){return e.split("-").slice(0,2).join("-")},window.SnapshottpClientFactory=c;var b="http://localhost:9005",g=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.url=t.url||b,this.db=t.browserStorage,this.abortController=new AbortController}return function(e,t,n){t&&a(e.prototype,t),n&&a(e,n)}(e,[{key:"abort",value:function(){this.abortController.abort(),delete this.abortController,this.abortController=new AbortController}},{key:"serverUrl",value:function(e){return e?("/"!==e[0]&&(e="/"+e),this.url+e):this.url}},{key:"sendSnapshot",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.serverUrl("/api/submit");return m(n,JSON.stringify(i(i({},e),t)),!1)}},{key:"sendDiff",value:function(e){var t=this.serverUrl("/api/submit_diff");m(t,e,!0)}},{key:"fetchSnapshotData",value:function(){var e=s(f.default.mark(function e(t,n){var r,o,a,u,s,c,l,d,y,m,b,g,E,w,O,_,S,T,A,M,P,j,R,I,D,N,C,x,L;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={"Content-Type":"application/json"},n&&(r.Authorization=n),e.prev=2,h.default.debug("############# STARTED FETCH OF "+t),o=new Date,e.next=7,fetch(this.serverUrl("/api/preaccess/"+encodeURIComponent(t)),{method:"GET",signal:this.abortController.signal,credentials:"include",headers:r});case 7:return a=e.sent,e.next=10,a.json();case 10:a=e.sent,u=a.keys,s=a.keysChunkIdsMap,h.default.debug("preacesss: ".concat(u)),c=!1,l={},d={},y=0;case 18:if(!(y<u.length)){e.next=35;break}m=u[y],s[m]||console.error("The following key was not included in the returned result: "+m),b=0;case 22:if(!(b<s[m].length)){e.next=32;break}if(d[s[m][b]]){e.next=28;break}return e.next=26,this.db.get(s[m][b]);case 26:e.sent?l[s[m][b]]=!0:c=!0;case 28:d[s[m][b]]=!0;case 29:++b,e.next=22;break;case 32:++y,e.next=18;break;case 35:if(h.default.debug("have chunks "+(new Date-o)),h.default.debug(Object.keys(l).length+"/"+Object.keys(d).length),g={},!c){e.next=52;break}return e.next=41,fetch(this.serverUrl("/api/access/"+encodeURIComponent(t)),{method:"POST",signal:this.abortController.signal,credentials:"include",headers:i(i({},r),{},{"Content-Type":"application/json"}),body:JSON.stringify({haveChunkIds:l})});case 41:return a=e.sent,e.next=44,a.json();case 44:g=e.sent,e.t0=f.default.keys(g);case 46:if((e.t1=e.t0()).done){e.next=52;break}return E=e.t1.value,e.next=50,this.db.put(E,g[E]);case 50:e.next=46;break;case 52:h.default.debug("missing chunks "+(new Date-o)),w={},e.t2=f.default.keys(d);case 55:if((e.t3=e.t2()).done){e.next=66;break}if(!((O=e.t3.value)in g)){e.next=61;break}w[O]=g[O],e.next=64;break;case 61:return e.next=63,this.db.get(O);case 63:w[O]=e.sent;case 64:e.next=55;break;case 66:h.default.debug("chunk map "+(new Date-o)),_={};for(S in s)_[S]=s[S].map(function(e,t){return 0===t?w[e].substr(1):w[e]}).join("");for(h.default.debug("resolved map "+(new Date-o)),T=[],A=[],M=0;M<u.length;M++)u[M].includes("file")?T.push(u[M]):u[M].includes("diff")&&A.push(u[M]);for(P=[],h.default.debug(_),j=0;j<T.length;j++){if(R=JSON.parse(_[T[j]]),R.token=T[j].substring(0,T[j].lastIndexOf("/")),R.diffs={},v(R.token)){for(I=0;I<A.length;++I)R.diffs[A[I].substring(A[I].lastIndexOf("/")+1)]=JSON.parse(_[A[I]]);h.default.debug("diffs "+(new Date-o)),D={};for(N in R.diffs)if(R.diffs[N].data&&R.diffs[N].map){C=R.diffs[N],x=(0,p.decompress)(C.data,C.URLs),C.data=x;for(L in C.map)D[L]=C.data.slice(C.map[L][0],C.map[L][1])}else D[N]=R.diffs[N];h.default.debug("diffs unpacked "+(new Date-o)),R.diffs=D}P.push(R)}return h.default.debug("############# DONE FETCh"),e.abrupt("return",P);case 80:if(e.prev=80,e.t4=e.catch(2),"AbortError"!==e.t4.name){e.next=84;break}throw e.t4;case 84:throw console.error("ERROR while fetching snapshot"),console.error(e.t4),e.t4;case 87:case"end":return e.stop()}},e,this,[[2,80]])}));return function(t,n){return e.apply(this,arguments)}}()}]),e}();n.SnapshottpClient=g},{"./browser-storage-wrapper":4,"./compress":5,"./snapshottp-logger":49,"@babel/runtime/regenerator":1,"navigator.sendbeacon":14,"whatwg-fetch":16}],49:[function(e,t,n){(function(process){(function(){"use strict";function e(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"==typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o={TRACE:0,DEBUG:1,INFO:10,WARN:20,ERROR:30},i={GREEN:32,YELLOW:33,BLUE:34,RED:31,WHITE:37},a=new(function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.level=e}return function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(t,[{key:"doLog",value:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),u=2;u<r;u++)a[u-2]=arguments[u];if(!(t<this.level)){n=n||i.WHITE;var s=console.log;t===o.ERROR&&(s=console.error,a=["ERROR:"].concat(e(a))),t===o.WARN&&(s=console.warn),s.apply(console,[(new Date).toISOString()+":","[".concat(n,"m")].concat(e(a),["[0m"]))}}},{key:"trace",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.doLog.apply(this,[o.TRACE,i.BLUE].concat(t))}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.doLog.apply(this,[o.DEBUG,i.WHITE].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.doLog.apply(this,[o.INFO,i.WHITE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.doLog.apply(this,[o.INFO,i.GREEN].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.doLog.apply(this,[o.WARN,i.YELLOW].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.doLog.apply(this,[o.ERROR,i.RED].concat(t))}}]),t}())(function(){var e=process.env.M_LOG_LEVEL||"info",t=o[e.toUpperCase()];return null!=t?t:(console.error("Failed to parse config log level ".concat(e,": ").concat(t,". Using INFO")),o.INFO)}());n.default=a}).call(this)}).call(this,e("_process"))},{_process:2}],50:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||c(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t,n,r,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)}function a(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){function a(e){i(s,r,o,a,u,"next",e)}function u(e){i(s,r,o,a,u,"throw",e)}var s=e.apply(t,n);a(void 0)})}}function u(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=c(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}(e,t)||c(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach(function(t){!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(n,"__esModule",{value:!0}),n.SnapshottpUtil=n.restoreSnapshotSelfContained=n.applyDiff=void 0;var h=r(e("@babel/runtime/regenerator")),y=r(e("md5")),m=e("underscore"),v=e("./jxon"),b=e("./compress"),g=e("./consts"),E=e("./htmlutil"),w=new Map([["childList",!0],["attributes",!0],["characterData",!0]]),O=function(e,t){for(var n=0;n<e.length;++n){var r=e[n];try{if(!w.has(r.type))throw new Error("Unknown diff type for playback");var o=(0,E.applyUniquePosArray)(t,r.target);if(!o)throw new Error("Unable to find diff target: ",r.target,t);if("childList"===r.type){var i=0;if(r.movedNodes&&r.movedNodes.length){var a=Array.isArray(r.movedNodes[0])?(0,E.applyUniquePosArray)(t,r.movedNodes[0]):o.childNodes[r.movedNodes[0]],u=r.movedNodes[1]<0?null:o.childNodes[r.movedNodes[1]];o.insertBefore(a,u)}else{null!==r.previousSibling&&(i=r.previousSibling+1);for(var s=0;s<r.removedNodes;++s)o.removeChild(o.childNodes[i]);for(var c=0;c<r.addedNodes.length;++c)o.insertBefore((0,v.jsonToDomFragment)(r.addedNodes[c],o.ownerDocument),o.childNodes[i]),i+=1}}else if("attributes"===r.type)null===r.value?o.removeAttribute(r.attributeName):(o.setAttribute(r.attributeName,r.value),"INPUT"===o.tagName&&"value"===r.attributeName&&"text"===o.type&&(o.value=r.value));else{if("characterData"!==r.type)throw new Error("Unknown diff type for playback");o.nodeValue=r.nodeValue}}catch(e){throw console.error("Failed to apply diff: ",r),e}}};n.applyDiff=O;n.restoreSnapshotSelfContained=function(e,t,n){var r=(0,E.restoreHTML)(e.html.page);(0,E.selfContainify)(r.documentElement,e.html.rootUrlProps,null),n&&(0,E.deJavascriptify)(r.documentElement),(0,E.moveDocToDoc)(r,t,e.html.docType),e.html.css&&(0,E.restoreConstructedStyles)(t,e.html.css),(0,E.waitForFullHeightFrameRenderAndScroll)(e,t)};var _=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);this.options=d(d({},{enableSlowRuntimeAssertions:!1,omitFn:function(){return!1}}),t),this.options.omitFn=this.options.omitFn||function(){return!1},this.shadowDom=null,this.copyOfTheShadowDom=null,this.shadowMap=new Map,this.inverseShadowMap=new Map,this.abortController=new AbortController,this.blobFiles={},n||(n=window),this.targetWindow=n}return function(e,t,n){t&&p(e.prototype,t),n&&p(e,n)}(e,[{key:"getSnapshotData",value:function(e){var t=null;e.doctype&&(t={name:e.doctype.name,publicId:e.doctype.publicId,systemId:e.doctype.systemId});var n={html:{rootUrlProps:{href:e.location.href,protocol:e.location.protocol,origin:e.location.origin,pathname:e.location.pathname},docType:t,page:(0,E.saveHTML)(e.documentElement,this.options.omitFn),css:(0,E.saveConstructedStylesheets)(e),scroll:(0,E.getDocumentScrollProps)(e)}};this.shadowDom=this.createShadowDOM(n),this.options.enableSlowRuntimeAssertions&&(this.checkDom(this.document.documentElement,this.shadowDom.documentElement),this.copyOfTheShadowDom=this.createShadowDOM(n));var r=s(this.createNewShadowMap(this.document.documentElement,this.shadowDom.documentElement),2);return this.shadowMap=r[0],this.inverseShadowMap=r[1],this.targetWindow.shadowMap=this.shadowMap,this.options.enableSlowRuntimeAssertions&&this.checkDom(this.document.documentElement,this.shadowDom.documentElement),n}},{key:"getFilesForBlobUrls",value:function(e){var t,n={},r=u(e);try{for(r.s();!(t=r.n()).done;){var o=t.value;n[o.hash]||(n[o.hash]=this.blobFiles[o.hash])}}catch(e){r.e(e)}finally{r.f()}return n}},{key:"takeSnapshot",value:function(){var e=a(h.default.mark(function e(t,n){var r,o,i;return h.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=null,r=n.html&&n.html.rootUrlProps?n:this.getSnapshotData(n),e.next=4,this.getBlobLinksAndFilesFromSn(r);case 4:return o=e.sent,i=this.getFilesForBlobUrls(o),e.abrupt("return",d({token:t,blobData:{files:i,props:o}},r));case 7:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"generateDiff",value:function(e,t){t=Object.assign({shadowNode:null,url:null,shadowNodeToMove:null,shadowNodeToInsertBefore:null,type:null,attributeNamespace:null,attributeName:null,value:null,nodeValue:null},t);var n=null;if("attr"===e)n={type:"attributes",attributeName:t.attributeName,attributeNamespace:t.attributeNamespace,target:(0,E.getUniquePosArray)(t.shadowNode),value:t.value,rootUrl:JSON.parse(t.url)};else if("char"===e)n={type:"characterData",target:(0,E.getUniquePosArray)(t.shadowNode),nodeValue:t.nodeValue};else{if(!["add","del","mov"].includes(e))throw new Error("Unexpected mode ",e);var r="mov"===e?(0,E.getUniquePosArray)(t.shadowNode):(0,E.getUniquePosArray)(t.shadowNode.parentNode),o=Array.from(t.shadowNode.parentNode.childNodes),i=t.shadowNode.previousSibling,a=-1;i&&(a=o.indexOf(i));var u=-1,s=-1;"mov"===e&&(u=Array.from(t.shadowNode.childNodes).indexOf(t.shadowNodeToMove),s=Array.from(t.shadowNode.childNodes).indexOf(t.shadowNodeToInsertBefore),u<0&&(u=(0,E.getUniquePosArray)(t.shadowNodeToMove))),n={type:"childList",addedNodes:"add"===e?[(0,v.domFragmentToJson)(t.shadowNode,this.options.omitFn)]:[],removedNodes:"del"===e?1:0,movedNodes:"mov"===e?[u,s]:[],previousSibling:a,target:r,rootUrl:JSON.parse(t.url)}}return this.options.enableSlowRuntimeAssertions&&O([n],this.copyOfTheShadowDom.documentElement),n}},{key:"getDiffData",value:function(e,t){for(var n=this,r=[],o=[],i=this.shadowMap,a=this.inverseShadowMap,s=this.shadowDom,c=function(e){var u=i.get(e);if(u){var s=i.get(e.parentNode),c=null;e.nextSibling&&(c=i.get(e.nextSibling));var f=e.parentNode===a.get(u.parentNode),d=e.nextSibling===(a.has(u.nextSibling)?a.get(u.nextSibling):null);f&&d||(r.push(n.generateDiff("mov",{shadowNode:s,url:t,shadowNodeToMove:u,shadowNodeToInsertBefore:c})),n.options.enableSlowRuntimeAssertions&&o.push(e),s.insertBefore(u,c))}else(u=function e(t){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!i.has(t)&&!n.options.omitFn(t)){var u=t.cloneNode(!1);u.id="someIdsaltf20a5307101ba6f7309c726ce16e5a3e5e6c0984a4f3b",""===t.id?u.removeAttribute("id"):u.id=t.id,i.set(t,u),a.set(u,t);var s=i.get(t.parentNode),c=null;t.nextSibling&&r&&(c=i.get(t.nextSibling)),n.options.enableSlowRuntimeAssertions&&o.push(t),s.insertBefore(u,c);for(var f=0;f<t.childNodes.length;f++)if(i.has(t.childNodes[f])&&!l.has(t.childNodes[f])){for(var d=v(t.childNodes[f]),p=(0,m.sortedIndex)(b,[t.childNodes[f],d],1);b[p]&&b[p][1]===d&&!(b[p][0].compareDocumentPosition(t.childNodes[f])&Node.DOCUMENT_POSITION_FOLLOWING);)p++;b.splice(p,0,[t.childNodes[f],d]),l.add(t.childNodes[f])}else e(t.childNodes[f],!1);return u}}(e))&&r.push(n.generateDiff("add",{shadowNode:u,url:t}))},l=new Set,f=new Set,d=0;d<e.length;++d){for(var p=e[d],h=0;h<p.addedNodes.length;++h)p.addedNodes[h].isConnected&&l.add(p.addedNodes[h]);for(var y=0;y<p.removedNodes.length;++y)p.removedNodes[y].isConnected||f.add(p.removedNodes[y])}for(var v=function(e){for(var t=0;e.parentNode;)t+=1,e=e.parentNode;return t},b=function(e){return Array.from(e).map(function(e){return[e,v(e)]}).sort(function(e,t){return e[1]===t[1]?e[0].compareDocumentPosition(t[0])&Node.DOCUMENT_POSITION_FOLLOWING?1:-1:e[1]-t[1]})}(l),g=0;g<b.length;++g)c(b[g][0]),this.options.enableSlowRuntimeAssertions&&this.checkMap(a,i,s.documentElement);var E,w=u(f);try{for(w.s();!(E=w.n()).done;){var O=E.value;if(i.has(O)){var _=i.get(O);r.push(this.generateDiff("del",{shadowNode:_,url:t})),_.remove(),this.cleanShadowMap(_),this.options.enableSlowRuntimeAssertions&&this.checkMap(a,i,s.documentElement)}}}catch(e){w.e(e)}finally{w.f()}for(var S=0;S<e.length;S++){var T=e[S],A=i.get(T.target);if("attributes"===T.type&&i.has(T.target)){var M=i.get(T.target).getAttribute(T.attributeName),P=i.get(T.target).attributes[T.attributeName]&&i.get(T.target).attributes[T.attributeName].namespaceURI,j=T.target.getAttribute(T.attributeName),R=T.target.attributes[T.attributeName]&&T.target.attributes[T.attributeName].namespaceURI;if(M===j&&P===R)continue;null===T.target.getAttribute(T.attributeName)?A.removeAttribute(T.attributeName):A.setAttribute(T.attributeName,T.target.getAttribute(T.attributeName)),r.push(this.generateDiff("attr",{attributeName:T.attributeName,attributeNamespace:T.attributeNamespace,shadowNode:A,value:T.target.getAttribute(T.attributeName),url:t}))}if("characterData"===T.type&&i.has(T.target)){if(A.nodeValue===T.target.nodeValue)continue;A.nodeValue=T.target.nodeValue,r.push(this.generateDiff("char",{type:"characterData",shadowNode:A,nodeValue:T.target.nodeValue}))}}return this.options.enableSlowRuntimeAssertions&&(this.checkMap(a,i,s.documentElement),this.checkDom(this.document.documentElement,s.documentElement),this.checkDom(this.document.documentElement,this.copyOfTheShadowDom.documentElement),this.checkDiffNumber(o)),r}},{key:"checkDiffNumber",value:function(e){if(e.length!==new Set(e).size)throw new Error("Error! Generated too many diffs!")}},{key:"checkMap",value:function(e,t,n){function r(n){if(!((n instanceof Element||n instanceof HTMLDocument)&&o(n)||"SCRIPT"===n.tagName)){for(var i=0;i<n.childNodes.length;i++)r(n.childNodes[i]);if(!e.has(n))throw new Error("Maps do not match! Inverse shadow map misses",n);if(!t.has(e.get(n)))throw new Error("Maps do not match! Shadow map misses",n)}}var o=this.options.omitFn;r(n);var i,a=u(t);try{for(a.s();!(i=a.n()).done;){var s=i.value;if(!s[0].parentElement||!this.options.omitFn(s[0].parentElement)){if(!s[1].isConnected)throw new Error("Error! Node is not connected to Shadow:",s[1]);if(!e.has(s[1]))throw new Error("Maps do not match! InverseShadow map misses",s[1])}}}catch(e){a.e(e)}finally{a.f()}}},{key:"checkDom",value:function(e,t){function n(o){if(!((o instanceof Element||o instanceof HTMLDocument)&&r(o)||"SCRIPT"===o.tagName||"IFRAME"===o.tagName)){for(var i=0;i<o.childNodes.length;i++)n(o.childNodes[i]);var a=(0,E.applyUniquePosArray)(t,(0,E.getUniquePosArray)(o,e));if(!a)throw new Error("currentShadowNode undefined");var u=o.cloneNode(!1),s=a.cloneNode(!1),c=!0;if(u.isEqualNode(s)||(c=o.isEqualNode(a)),!c){for(var l=!1,f=0;f<o.attributes.length;f++){var d=o.attributes.item(f).name;if(d[0].match(/[^a-zA-Z]/g)||d.match(/[^a-zA-Z0-9\-]/g)){l=!0;break}}if(l)return;throw new Error("Error! Nodes are not equal! Expected ".concat(o,",\n          but recieved ").concat(a))}}}var r=this.options.omitFn;n(e)}},{key:"createDiffPackage",value:function(e){var t={data:[],map:{}},n=null;for(var r in e){n=r;var o=e[r];t.map[r]=[t.data.length,t.data.length+o.length];for(var i=0;i<o.length;++i)t.data.push(o[i])}var a=s((0,b.compress)(t.data),2),u=a[0],c=a[1];return t.data=u,t.URLs=c,t.prepared=!0,{diffId:n,diffData:t}}},{key:"extractNodeLinks",value:function(e){for(var t=["FRAME","IFRAME","SCRIPT","EMBED"],n=[],r=o(e);r.length>0;){var i=r.shift();if("STYLE"!==i.name){i.children&&r.push.apply(r,o(i.children));var a=g.EXTERNAL_RESOURCE_ATTRS[i.name];if(a&&i.attrs)for(var u=0;u<a.length;++u){var s=a[u];if(t.indexOf(i.name)>=0&&"src"===s)i.attrs[s]="about:blank";else{var c=i.attrs[s];c&&c.startsWith("blob")&&n.push(c)}}}}return n}},{key:"extractAttrLinks",value:function(e){var t=[];if("src"===e[1]){var n=e[4];n.startsWith("blob")&&t.push(n)}return t}},{key:"convertBlobToData",value:function(){var e=a(h.default.mark(function e(t){return h.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){var n=new FileReader;n.readAsDataURL(t),n.onloadend=function(){var t=n.result;e(t)}}));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"getBlobData",value:function(){var e=a(h.default.mark(function e(t){var n,r,o,i,a,c,l,f,d,p,m,v,b;return h.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=[],r=u(t),e.prev=2,r.s();case 4:if((o=r.n()).done){e.next=28;break}return i=o.value,e.prev=6,e.next=9,fetch(i).then(function(e){return e.blob()});case 9:if(a=e.sent,c=a.type.split("/"),l=s(c,2),f=l[0],d=l[1],p="image"===f,m=!!g.IMAGE_BY_CONTENT_TYPE[d],p&&m){e.next=15;break}return e.abrupt("continue",26);case 15:return e.next=17,this.convertBlobToData(a).then(function(e){return e});case 17:v=e.sent,b=(0,y.default)(v),this.blobFiles[b]||(this.blobFiles[b]=v),n.push({type:a.type,src:i,hash:b}),e.next=26;break;case 23:return e.prev=23,e.t0=e.catch(6),e.abrupt("continue",26);case 26:e.next=4;break;case 28:e.next=33;break;case 30:e.prev=30,e.t1=e.catch(2),r.e(e.t1);case 33:return e.prev=33,r.f(),e.finish(33);case 36:return e.abrupt("return",n);case 37:case"end":return e.stop()}},e,this,[[2,30,33,36],[6,23]])}));return function(t){return e.apply(this,arguments)}}()},{key:"getBlobLinksAndFilesFromDiff",value:function(){var e=a(h.default.mark(function e(t){var n,r,i,a,u,s,c,l,f;return h.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n={1:"childList",4:"attributes"},r=[],i=0;case 3:if(!(i<t.data.length)){e.next=13;break}if(a=t.data[i],u=n[a[0]]){e.next=8;break}return e.abrupt("continue",10);case 8:"childList"===u&&(s=a[1],c=this.extractNodeLinks(s),r.push.apply(r,o(c))),"attributes"===u&&(l=this.extractAttrLinks(a),r.push.apply(r,o(l)));case 10:i++,e.next=3;break;case 13:return e.next=15,this.getBlobData(r);case 15:return f=e.sent,e.abrupt("return",f);case 17:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getBlobLinksAndFilesFromSn",value:function(){var e=a(h.default.mark(function e(t){var n,r;return h.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.extractNodeLinks([t.html.page]),e.next=3,this.getBlobData(n);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"takeDiff",value:function(){var e=a(h.default.mark(function e(t,n,r,o){var i,a,u,s;return h.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=r,e.next=3,this.getBlobLinksAndFilesFromDiff(i);case 3:return a=e.sent,u=this.getFilesForBlobUrls(a),s=JSON.stringify({token:t,team:o,diffId:n,diffData:i,blobData:{files:u,props:a}}),e.abrupt("return",s);case 7:case"end":return e.stop()}},e,this)}));return function(t,n,r,o){return e.apply(this,arguments)}}()},{key:"createShadowDOM",value:function(e){return(0,E.restoreHTML)(e.html.page,this.document)}},{key:"createNewShadowMap",value:function(e,t){for(var n,r=new Map,o=new Map,i=this.document.createNodeIterator(e,NodeFilter.SHOW_ALL);n=i.nextNode();)if(!(this.options.omitFn(n)||n.parentElement&&"script"===n.parentElement.tagName.toLowerCase())){var a=(0,E.applyUniquePosArray)(t,(0,E.getUniquePosArray)(n,e));r.set(n,a),o.set(a,n)}return[r,o]}},{key:"cleanShadowMap",value:function(e){for(var t,n=this.shadowMap,r=this.inverseShadowMap,o=this.document.createNodeIterator(e,NodeFilter.SHOW_ALL);t=o.nextNode();){var i=r.get(t);r.delete(t),n.delete(i)}}},{key:"document",get:function(){return this.targetWindow.document}}]),e}();n.SnapshottpUtil=_,_.applyDiff=O,window.SnapshottpUtil=_},{"./compress":5,"./consts":6,"./htmlutil":7,"./jxon":8,"@babel/runtime/regenerator":1,md5:10,underscore:15}],51:[function(e,t,n){"use strict";e("../../../testoverride");(0,function(e){return e&&e.__esModule?e:{default:e}}(e("./embedasyncMain")).default)()},{"../../../testoverride":105,"./embedasyncMain":52}],52:[function(e,t,n){(function(process){(function(){"use strict";function t(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=e("./factory");n.default=function(){var e=document.createElement("div");e.id="moment-chat";var n="https://"+process.env.M_MWEB_PRIMARY_DOMAIN,r=window.MomentCRM;r?r._i?console.warn("Another copy of Moment has already been loaded on this page: "+document.URL):(r._initialized=!1,r._frameStarted=!1,r._authComplete=!1,r._listeners={},r._i=function(t){for(var i=arguments.length,a=new Array(i>1?i-1:0),u=1;u<i;u++)a[u-1]=arguments[u];var s=o.momentCRMcommandFactory.apply(void 0,[t,r,n,e].concat(a));s?s():console.warn("Command '".concat(t,"' not found"))},r._trigger=function(e){if(r._listeners[e]){var t=Array.prototype.slice.call(arguments,1);r._listeners[e].forEach(function(e){e.apply(null,t)})}},r._q.forEach(function(e){r._i.apply(r,t(e))}),delete r._q):console.error('Moment was not added to your website correctly. It needs to be included by adding <script type="text/javascript" src="https://www.momentcrm.com/embed"/> to the top of your html file.')}}).call(this)}).call(this,e("_process"))},{"./factory":56,_process:2}],53:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;n.default={INIT:"init",ATTACH:"attach",EVENT:"event",UPDATE:"update",SEND_MESSAGE:"sendMessage",OPEN:"open",CLOSE:"close",SHOW:"show",HIDE:"hide",ON:"on",OFF:"off",GLOBAL_LOGOUT_ON_ALL_BROWSERS:"global_logout_on_all_browsers",TRACK:"trackThisFrame"}},{}],54:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"momentCRMEventsEnum",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(n,"commandEnum",{enumerable:!0,get:function(){return i.default}});var o=r(e("./momentCRMEventsEnum")),i=r(e("./commandEnum"))},{"./commandEnum":53,"./momentCRMEventsEnum":55}],55:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;n.default={CV:"cv",UEDM:"uedm",SEND_CUSTOM_EVENT:"sendCustomEvents",SEND_MESSAGE:"sendMessage",MOMENT_OPTIONS:"momentOptions",AUTH_COMPLETE:"authComplete",OPEN_CHAT:"openChat",CLOSE_CHAT:"closeChat",SHOW_CHAT:"showChat",HIDE_CHAT:"hideChat",UPDATE_URL:"updateUrl",WINDOW_SIZE:"windowSize",WINDOW_FOCUS:"windowFocus",GLOBAL_LOGOUT_ON_ALL_BROWSERS:"global_logout_on_all_browsers",SILENCE:"silence"}},{}],56:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"momentCRMcommandFactory",{enumerable:!0,get:function(){return r.default}});var r=function(e){return e&&e.__esModule?e:{default:e}}(e("./momentCRMcommandFactory"))},{"./momentCRMcommandFactory":101}],57:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("../../../../enum");n.default=function(e,t,n){t._options.to.postMessage({type:r.momentCRMEventsEnum.CLOSE_CHAT},n)}},{"../../../../enum":54}],58:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var r=function(e){return e&&e.__esModule?e:{default:e}}(e("./closeCommand"))},{"./closeCommand":57}],59:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("../../../../enum");n.default=function(e,t,n,o,i,a){t._options.doTracking&&t._options.to.postMessage({type:r.momentCRMEventsEnum.SEND_CUSTOM_EVENT,data:{eventType:i,metaJson:a}},n)}},{"../../../../enum":54}],60:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var r=function(e){return e&&e.__esModule?e:{default:e}}(e("./eventCommand"))},{"./eventCommand":59}],61:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("../../../../enum");n.default=function(e,t,n){t._options.to.postMessage({type:r.momentCRMEventsEnum.GLOBAL_LOGOUT_ON_ALL_BROWSERS},n)}},{"../../../../enum":54}],62:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var r=function(e){return e&&e.__esModule?e:{default:e}}(e("./globalLogoutOnAllBrowsersCommand"))},{"./globalLogoutOnAllBrowsersCommand":61}],63:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("../../../../enum");n.default=function(e,t,n){t._options.to.postMessage({type:r.momentCRMEventsEnum.HIDE_CHAT},n)}},{"../../../../enum":54}],64:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var r=function(e){return e&&e.__esModule?e:{default:e}}(e("./hideCommand"))},{"./hideCommand":63}],65:[function(e,t,n){(function(process){(function(){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}function r(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}(e,t)||a(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=e("../../../../../../../constants"),c=e("../../../../../enum"),l=e("../../../../enum"),f=t(e("./util/updateBoxShadow")),d=t(e("./util/toggleDismissMessageNotification")),p=t(e("./util/checkAllFramesSuccessfullyLoaded")),h=t(e("./util/showAllFrames")),y=t(e("./util/getSizes")),m=t(e("./util/recalculateSize")),v=t(e("./util/showConversation")),b=t(e("./util/hideConversation")),g=t(e("../util/toggleChat")),E=function(e){var t=e.M,n=e.stageType,r=e.screenWidth,o=e.screenHeight,a=e.windowHeight,u=e.miniListHeightSmall,s=e.open,c=e.unreadCount,l=(0,y.default)({stageType:n,screenWidth:r,screenHeight:o,windowHeight:a,miniListHeightSmall:u}),f=i((0,m.default)({sizes:l,open:s,unreadCount:c}),2),d=f[0],p=f[1];t._trigger("resize",{x:d+40,y:p+40})},w=null,O=null,_=null,S=null;n.default=function(e){var t=e.M,n=e.HOST,i=e.chatDiv,a=e.momentChatIframe,u=e.momentBubbleIframe,m=e.userWarningIframe,T=e.ccIframe,A=e.callIframe,M=e.globalState,P=e.localState,j=function(e){var j=e.data;if(j.type===c.chatEventsEnum.VISIBILITY)j.value?i.classList.remove("hide"):i.classList.add("hide");else if(j.type===c.chatEventsEnum.ENABLE_CLIENT_SIDE_LOGGING)m.style.display="block";else if(j.type===c.chatEventsEnum.TOGGLE){var R=window.document.getElementsByTagName("body")[0];if(j.value){P.setOpenState(!0),M.setStage(j.stage),M.getScreenWidth()<=s.EMBED_VARS.PHONE_WIDTH&&(R.classList.value.includes("moment_disable_scroll")||(R.className+=" moment_disable_scroll")),(0,f.default)({mouseOver:P.getMouseOver(),momentBubbleIframe:u});var I=(0,y.default)({stageType:M.getStage(),screenWidth:M.getScreenWidth(),screenHeight:M.getScreenHeight(),windowHeight:M.getWindowHeight(),miniListHeightSmall:M.getMiniListHeightSmall()});M.setOldHeight(I.height),(0,v.default)({M:t,sizes:I,screenWidth:M.getScreenWidth(),momentChatIframe:a,momentBubbleIframe:u})}else P.setOpenState(!1),R.classList.value.includes("moment_disable_scroll")&&R.classList.remove("moment_disable_scroll"),(0,f.default)({mouseOver:P.getMouseOver(),momentBubbleIframe:u}),(0,b.default)({M:t,momentChatIframe:a,momentBubbleIframe:u});E({M:t,stageType:M.getStage(),screenWidth:M.getScreenWidth(),screenHeight:M.getScreenHeight(),windowHeight:M.getWindowHeight(),miniListHeightSmall:M.getMiniListHeightSmall(),open:P.getOpenState(),unreadCount:P.getUnreadCount()}),e.preventDefault(),e.stopPropagation()}else if(j.type===c.chatEventsEnum.RESIZE_CONVO_WINDOW)M.setMiniListHeightSmall(j.resizeSmall),E({M:t,stageType:M.getStage(),screenWidth:M.getScreenWidth(),screenHeight:M.getScreenHeight(),windowHeight:M.getWindowHeight(),miniListHeightSmall:M.getMiniListHeightSmall(),open:P.getOpenState(),unreadCount:P.getUnreadCount()});else if(j.type===c.chatEventsEnum.AUTH_COMPLETE)a.contentWindow.postMessage({type:l.momentCRMEventsEnum.AUTH_COMPLETE},n),u.style["background-image"]="linear-gradient(".concat(j.teamColor," 0%, ").concat(j.teamColorAnalogous," 100%)"),a.style.filter=s.EMBED_VARS.CHAT_WINDOW_FILTER,t._authComplete=!0,(0,g.default)(t,i);else if(j.type===c.chatEventsEnum.STARTED){O&&window.clearInterval(O),_&&_(),S&&S(),(0,b.default)({M:t,momentChatIframe:a,momentBubbleIframe:u});var D=t._options,N=(D.to,D.target,o(D,["to","target"])),C={width:screen.width,height:screen.height};a.contentWindow.postMessage({type:l.momentCRMEventsEnum.MOMENT_OPTIONS,options:N},n),a.contentWindow.postMessage({type:l.momentCRMEventsEnum.WINDOW_SIZE,options:C},n),O=window.setInterval(function(){var e=window.location.href;e!==P.getLastUrl()&&(P.setLastUrl(e),P.setLastUrlTime(Date.now()),a.contentWindow.postMessage({type:l.momentCRMEventsEnum.UPDATE_URL,url:P.getLastUrl(),loadedAt:P.getLastUrlTime()},n))},"true"===process.env.M_DETERMINISTIC?50:1e3),_=function(e,t){var n=function(){e.contentWindow.postMessage({type:l.momentCRMEventsEnum.WINDOW_FOCUS,value:!0},t)};return window.addEventListener("focus",n),function(){window.removeEventListener("focus",n)}}(a,n),S=function(e,t){var n=function(){e.contentWindow.postMessage({type:l.momentCRMEventsEnum.WINDOW_FOCUS,value:!1},t)};return window.addEventListener("blur",n),function(){window.removeEventListener("blur",n)}}(a,n),a.contentWindow.postMessage({type:l.momentCRMEventsEnum.WINDOW_FOCUS,value:document.hasFocus()},n),t._frameStarted=!0,(0,g.default)(t,i)}else if(j.type===c.chatEventsEnum.STAGE){if(M.setStage(j.stage),P.getOpenState()){var x=(0,y.default)({stageType:M.getStage(),screenWidth:M.getScreenWidth(),screenHeight:M.getScreenHeight(),windowHeight:M.getWindowHeight(),miniListHeightSmall:M.getMiniListHeightSmall()});if(a.animate){var L=a.animate([{height:M.getOldHeight()},{height:x.height}],{duration:200,iterations:1,fill:"forwards"});L.onfinish=function(){a.style.height=x.height,L.cancel(),M.setOldHeight(x.height)}}}E({M:t,stageType:M.getStage(),screenWidth:M.getScreenWidth(),screenHeight:M.getScreenHeight(),windowHeight:M.getWindowHeight(),miniListHeightSmall:M.getMiniListHeightSmall(),open:P.getOpenState(),unreadCount:P.getUnreadCount()})}else if(j.type===c.chatEventsEnum.ATTACHED){var B=P.getAllWindows().indexOf(e.source);if(-1!==B){var k=r(P.getSuccessfullyLoadedFrames());k[B]=!0,P.setSuccessfullyLoadedFrames(k);var H=P.getAllFrames();(0,p.default)(H,k)&&(0,h.default)(H)}}else if(j.type===c.chatEventsEnum.SHOW_MSG_BOXES){var U=Math.min(j.unreadCount,M.getMaxNumberOfNotifications());P.setUnreadCount(U);for(var W=0;W<M.getMaxNumberOfNotifications();W++){var F=document.getElementById("moment-crm-message-frame-"+W);W<j.unreadCount?F.style.display="block":F.style.display="none"}(0,d.default)({unreadCount:U}),document.getElementById("moment-dismiss-message-frame").style.bottom=s.EMBED_VARS.BOTTOM+s.EMBED_VARS.SMALL_HEIGHT+s.EMBED_VARS.MSG_SPACING/2+s.EMBED_VARS.MSG_SPACING*U+s.EMBED_VARS.MSG_HEIGHT*U+"px",E({M:t,stageType:M.getStage(),screenWidth:M.getScreenWidth(),screenHeight:M.getScreenHeight(),windowHeight:M.getWindowHeight(),miniListHeightSmall:M.getMiniListHeightSmall(),open:P.getOpenState(),unreadCount:P.getUnreadCount()})}else if(j.type===c.chatEventsEnum.SHOW_CALL_REQUEST)j.value?A.style.display="block":A.style.display="none";else if(j.type===c.chatEventsEnum.CC)w&&window.clearTimeout(w),w=window.setTimeout(function(){P.setCompetitors(j.result.c),T.style=["width:100px","height:100px","border:0","position:fixed","bottom:0","left:0","z-index:-100000","opacity:0.01","margin-left:-99px"].join(";"),T.classList.add("do-not-track"),T.src=n+"/d?w="+encodeURIComponent(window.location.href),i.appendChild(T)},1e3);else if(j.type===c.chatEventsEnum.UEDS){var V=P.getCompetitors().reduce(function(e,t){return e.push(t.url),e},[]);T.contentWindow.postMessage({type:l.momentCRMEventsEnum.UEDM,w:V},n)}else if(j.type===c.chatEventsEnum.UEDR){if(j.r){for(var G=null,z=P.getCompetitors(),q=0;q<z.length;q++){var X=z[q];j.w===X.url&&(G=X.id)}G&&a.contentWindow.postMessage({type:l.momentCRMEventsEnum.CV,c:G},n)}}else j.type===c.chatEventsEnum.MOMENT_ENDUSER_LOGOUT&&t._trigger("logout")};return window.addEventListener("message",j),function(){window.removeEventListener("message",j),w&&window.clearTimeout(w),O&&window.clearInterval(O),_&&_(),S&&S()}}}).call(this)}).call(this,e("_process"))},{"../../../../../../../constants":104,"../../../../../enum":103,"../../../../enum":54,"../util/toggleChat":100,"./util/checkAllFramesSuccessfullyLoaded":69,"./util/getSizes":78,"./util/hideConversation":79,"./util/recalculateSize":80,"./util/showAllFrames":81,"./util/showConversation":82,"./util/toggleDismissMessageNotification":83,"./util/updateBoxShadow":84,_process:2}],66:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var r=function(e){return e&&e.__esModule?e:{default:e}}(e("./initOrAttachCommand"))},{"./initOrAttachCommand":68}],67:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i,a=e("../../../../../../../constants"),u=r(e("./chatEventsListener")),s=r(e("./util/updateBoxShadow")),c=r(e("./util/createMsgIframe")),l=r(e("./util/createCallIframe")),f=r(e("./util/createAudioIframe")),d=r(e("./util/createMomentChatIframe")),p=r(e("./util/createMomentBubbleIframe")),h=r(e("./util/createMomentBubbleNotificationIframe")),y=r(e("./util/createUserWarningIframe")),m=r(e("./util/createDismissAllMessagesIframe")),v=r(e("../util/toggleChat")),b=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(function(){var e=[];return[function(t){e.push(t)},function(){e.forEach(function(e){e()}),e=[]}]}(),2),g=b[0],E=b[1],w=!1,O=a.EMBED_VARS.LARGE_HEIGHT+"px",_=2147483647,S=screen.width,T=screen.height,A=window.innerHeight,M={getStage:function(){return i},setStage:function(e){i=e},getMiniListHeightSmall:function(){return w},setMiniListHeightSmall:function(e){w=e},getOldHeight:function(){return O},setOldHeight:function(e){O=e},getScreenWidth:function(){return S},getScreenHeight:function(){return T},getWindowHeight:function(){return A},getMaxNumberOfNotifications:function(){return 3}};n.default=function(e,t,n){E(),document.body.appendChild(n);var r=[],o=[],i=[],b=null,w=null,O=!1,T=!1,A=0,P=!1,j=document.createElement("iframe"),R=null,I={getAllWindows:function(){return r},getAllFrames:function(){return o},getSuccessfullyLoadedFrames:function(){return i},setSuccessfullyLoadedFrames:function(e){i=e},getLastUrlTime:function(){return b},setLastUrlTime:function(e){b=e},getLastUrl:function(){return w},setLastUrl:function(e){w=e},getOpenState:function(){return O},setOpenState:function(e){O=e},getMouseOver:function(){return T},getUnreadCount:function(){return A},setUnreadCount:function(e){A=e},getCompetitors:function(){return R||[]},setCompetitors:function(e){R=e}},D=(0,p.default)({M:e,HOST:t,zIndex:_}),N=(0,h.default)({M:e,HOST:t,zIndex:_}),C=(0,y.default)({M:e,HOST:t,zIndex:_,screenWidth:S});n.appendChild(C);var x=(0,d.default)({M:e,HOST:t,zIndex:_,screenWidth:S});n.appendChild(x),e._options.to||(e._options.to=x.contentWindow),D.addEventListener("mouseenter",function(){T=!0,(0,s.default)({mouseOver:T,momentBubbleIframe:D})}),D.addEventListener("mouseleave",function(){T=!1,(0,s.default)({mouseOver:T,momentBubbleIframe:D})}),(0,v.default)(e,n);var L=[],B=[];n.appendChild(D),n.appendChild(N);for(var k=function(r){var o=(0,c.default)({i:r,M:e,HOST:t,zIndex:_});o.addEventListener("mouseenter",function(){o.style.filter=a.EMBED_VARS.BOX_SHADOW_HOVER}),o.addEventListener("mouseleave",function(){o.style.filter=a.EMBED_VARS.BOX_SHADOW}),n.appendChild(o),L.push(o.contentWindow),B.push(o)},H=0;H<3;H++)k(H);var U=(0,m.default)({M:e,HOST:t,zIndex:_});U.addEventListener("mouseenter",function(){U.style.filter=a.EMBED_VARS.BOX_SHADOW_HOVER}),U.addEventListener("mouseleave",function(){U.style.filter=a.EMBED_VARS.BOX_SHADOW}),n.appendChild(U),L.push(U.contentWindow),B.push(U);var W=(0,l.default)({M:e,HOST:t,zIndex:_,screenWidth:S});n.appendChild(W),(0,f.default)(),(r=L.slice()).push(x.contentWindow),r.push(D.contentWindow),r.push(W.contentWindow),r.push(N.contentWindow),(o=B.slice()).push(x),o.push(D),o.push(W),o.push(N),g(function(e,t,n,r){var o=function(){n()||(r(!0),t.contentWindow.postMessage({type:"silence"},e))};return document.addEventListener("click",o,!0),function(){document.removeEventListener("click",o)}}(t,x,function(){return P},function(e){P=e})),g((0,u.default)({M:e,HOST:t,chatDiv:n,momentChatIframe:x,momentBubbleIframe:D,userWarningIframe:C,ccIframe:j,callIframe:W,globalState:M,localState:I}))}},{"../../../../../../../constants":104,"../util/toggleChat":100,"./chatEventsListener":65,"./util/createAudioIframe":70,"./util/createCallIframe":71,"./util/createDismissAllMessagesIframe":72,"./util/createMomentBubbleIframe":73,"./util/createMomentBubbleNotificationIframe":74,"./util/createMomentChatIframe":75,"./util/createMsgIframe":76,"./util/createUserWarningIframe":77,"./util/updateBoxShadow":84}],68:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=r(e("./initChat")),u=r(e("../trackCommand")),s=e("../../../../enum"),c=e("../../../../../enum"),l=new RegExp("^[a-zA-Z][a-zA-Z0-9_]*$");n.default=function(e,t,n,r,o){delete(o=i(i({},o),{},{teamVanityId:o.teamVanityId||o.teamId})).teamId;var f=e===s.commandEnum.INIT,d=e===s.commandEnum.ATTACH;if(t._initialized){if(f&&console.warn("Moment has already been initialized!"),!window.__MOMENT_TARGET__)return;t._initialized=!1,t._listeners={},t._e=[],t._E=[],t._k=[]}if(!f||o.teamVanityId||o.teamId){t._initialized=!0;var p={teamVanityId:null,doChat:f,doTracking:!1,to:null,_origin:null};t._options=i(i({},p),o),t._options.customAttributes&&Object.keys(t._options.customAttributes).forEach(function(e){e.match(l)||(console.error("Custom attributes must start with a letter and can only contain letters, numbers and underscores."),console.error("Ignoring "+e),delete t._options.customAttributes[e])}),!t._options.doChat&&t._options.to||(0,a.default)(t,n,r),f&&(0,u.default)(null,t,n,r,i(i({},o),{},{isTop:!0})),window.addEventListener("message",function(e){var n=e.data;n.type===c.chatEventsEnum.ENDUSER_UPDATE&&t._trigger("userUpdate",n.enduser)}),d&&t._options.to.postMessage({type:c.chatEventsEnum.ATTACHED,_origin:t._options._origin},"*")}else console.error("Moment must be initialized with a team id!")}},{"../../../../../enum":103,"../../../../enum":54,"../trackCommand":96,"./initChat":67}],69:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;n.default=function(e,t){for(var n=!0,r=0;r<e.length;r++)if(!t[r]){n=!1;break}return n}},{}],70:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;n.default=function(){var e=document.createElement("iframe");return e.id="moment-audio-silence-frame",e.setAttribute("allow","autoplay"),e.setAttribute("class","do-not-track"),e.classList.add("do-not-track"),e}},{}],71:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("../../../../../../../../constants");n.default=function(e){var t=e.M,n=e.HOST,o=e.zIndex,i=e.screenWidth,a=document.createElement("iframe");a.id="moment-crm-call-frame";var u="".concat(n,"/msgcss/").concat(r.EMBED_VARS.IDS.CALL);return t._options.doTracking||(u=u.replace("/msgcss/","/ntmsgcss/")),a.src=u,a.style.width=i<=r.EMBED_VARS.PHONE_WIDTH?"95%":r.EMBED_VARS.CALL_WIDTH,a.style.height=r.EMBED_VARS.SMALL_HEIGHT,a.style.border="0",a.style.position="fixed",a.style["border-radius"]=r.EMBED_VARS.CALL_RADIUS+"px",a.style.filter=r.EMBED_VARS.BOX_SHADOW,a.style["z-index"]=o,a.style.opacity=0,a.style.right=i<=r.EMBED_VARS.PHONE_WIDTH?"2.5%":2*r.EMBED_VARS.RIGHT+r.EMBED_VARS.SMALL_WIDTH+"px",a.style.bottom=r.EMBED_VARS.BOTTOM+"px",a.style.display="none",a}},{"../../../../../../../../constants":104}],72:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("../../../../../../../../constants");n.default=function(e){var t=e.M,n=e.HOST,o=e.zIndex,i=document.createElement("iframe");i.id="moment-dismiss-message-frame",i.setAttribute("data-test","moment-dismiss-message");var a="".concat(n,"/msgcss/").concat(r.EMBED_VARS.IDS.DISMISS_MESSAGE);return t._options.doTracking||(a=a.replace("/msgcss/","/ntmsgcss/")),i.src=a,i.style.width="30px",i.style.height="30px",i.style.border="0",i.style.position="fixed",i.style.filter=r.EMBED_VARS.BOX_SHADOW,i.style["z-index"]=o,i.style.opacity=0,i.style.right=r.EMBED_VARS.RIGHT+"px",i.style.display="none",i.style["border-radius"]="".concat(r.EMBED_VARS.CLOSE_MSG_RADIUS,"px"),i.style["background-color"]="#fff",i}},{"../../../../../../../../constants":104}],73:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("../../../../../../../../constants"),o="".concat(r.EMBED_VARS.CHAT_BUBBLE_SPACING,"px");n.default=function(e){var t=e.M,n=e.HOST,i=e.zIndex,a=document.createElement("iframe");a.id="moment-bubble-frame";var u="".concat(n,"/msgcss/").concat(r.EMBED_VARS.IDS.CHAT_BUBBLE);return t._options.doTracking||(u=u.replace("/msgcss/","/ntmsgcss/")),a.src=u,a.style.width=r.EMBED_VARS.CHAT_BUBBLE_FRAME_SIZE+"px",a.style.height=r.EMBED_VARS.CHAT_BUBBLE_FRAME_SIZE+"px",a.style.border="0",a.style.position="fixed",a.style.right=o,a.style.bottom=o,a.style["z-index"]=i,a.style.opacity=0,a.style["border-radius"]="50%",a.style.filter=r.EMBED_VARS.CHAT_BUBBLE_BOX_SHADOW,a}},{"../../../../../../../../constants":104}],74:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("../../../../../../../../constants"),o="".concat(r.EMBED_VARS.CHAT_BUBBLE_NOTIFICATION_SIZE.width,"px"),i="".concat(r.EMBED_VARS.CHAT_BUBBLE_NOTIFICATION_SIZE.height,"px");n.default=function(e){var t=e.M,n=e.HOST,a=e.zIndex,u=document.createElement("iframe");u.id="moment-bubble-notification-frame";var s="".concat(n,"/msgcss/").concat(r.EMBED_VARS.IDS.CHAT_BUBBLE_NOTIFICATION);return t._options.doTracking||(s=s.replace("/msgcss/","/ntmsgcss/")),u.src=s,u.style.width=o,u.style.height=i,u.style.border="0",u.style.position="fixed",u.style.right="".concat(r.EMBED_VARS.CHAT_BUBBLE_SPACING-8,"px"),u.style.bottom="".concat(r.EMBED_VARS.CHAT_BUBBLE_FRAME_SIZE+r.EMBED_VARS.CHAT_BUBBLE_SPACING-r.EMBED_VARS.CHAT_BUBBLE_NOTIFICATION_SIZE.height,"px"),u.style["z-index"]=a,u.style["border-radius"]="5px",u}},{"../../../../../../../../constants":104}],75:[function(e,t,n){(function(process){(function(){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var t=e("../../../../../../../../constants");n.default=function(e){var n=e.M,r=e.HOST,o=e.zIndex,i=e.screenWidth,a=window.btoa(document.location.host),u=document.createElement("iframe");u.id="moment-chat-frame",u.allow="autoplay";var s=r+"/team/"+n._options.teamVanityId+"/externalchat";if(n._options.doTracking||(s=s.replace("/externalchat","/ntexternalchat")),u.src="".concat(s,"?clientId=").concat(a),u.style.border="0","true"===process.env.M_DETERMINISTIC&&document.URL.indexOf("trackChat=false")>-1&&u.classList.add("do-not-track"),u.style.display="none",u.style.position="fixed",u.style["border-radius"]="8px",u.style.bottom="90px",u.style.right="0px",u.style["z-index"]=o,u.style.opacity=0,u.style["min-height"]="".concat(t.EMBED_VARS.MIN_HEIGHT,"px"),i<=t.EMBED_VARS.PHONE_WIDTH)u.style["max-height"]="100%";else{var c=t.EMBED_VARS.CHAT_BOTTOM;u.style["max-height"]="calc(100% - ".concat(10+c,"px)")}return u}}).call(this)}).call(this,e("_process"))},{"../../../../../../../../constants":104,_process:2}],76:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("../../../../../../../../constants");n.default=function(e){var t=e.i,n=e.M,o=e.HOST,i=e.zIndex,a=document.createElement("iframe");a.id="moment-crm-message-frame-"+t,a.setAttribute("data-test","moment-message-frame");var u="".concat(o,"/msgcss/").concat(r.EMBED_VARS.IDS.MESSAGE).concat(t);return n._options.doTracking||(u=u.replace("/msgcss/","/ntmsgcss/")),a.src=u,a.style.width=r.EMBED_VARS.MSG_WIDTH+"px",a.style.height=r.EMBED_VARS.MSG_HEIGHT+"px",a.style.border="0",a.style.position="fixed",a.style["border-radius"]=r.EMBED_VARS.CALL_RADIUS+"px",a.style.filter=r.EMBED_VARS.BOX_SHADOW,a.style["z-index"]=i,a.style.opacity=0,a.style.right=r.EMBED_VARS.RIGHT+"px",a.style.bottom=r.EMBED_VARS.BOTTOM+r.EMBED_VARS.SMALL_HEIGHT+r.EMBED_VARS.MSG_SPACING+r.EMBED_VARS.MSG_SPACING*t+r.EMBED_VARS.MSG_HEIGHT*t+"px",a.style.display="none",a}},{"../../../../../../../../constants":104}],77:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("../../../../../../../../constants");n.default=function(e){var t=e.HOST,n=e.zIndex,o=e.screenWidth,i=document.createElement("iframe");i.id="moment-client-side-logging-frame";var a="".concat(t,"/clientsidelogging");return i.src=a,i.style.height=r.EMBED_VARS.SMALL_HEIGHT,i.style.border="0",i.style.background="transparent",i.style["border-radius"]="4px",i.style["min-height"]="400px",i.style.position="fixed",i.style["z-index"]=n,i.style.right=o<=r.EMBED_VARS.PHONE_WIDTH?"50px":"".concat(r.EMBED_VARS.CHAT_BUBBLE_SPACING,"px"),i.style.bottom=r.EMBED_VARS.BOTTOM+r.EMBED_VARS.CHAT_BUBBLE_FRAME_SIZE+20+"px",i.style.display="none",i.setAttribute("class","do-not-track"),i}},{"../../../../../../../../constants":104}],78:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("../../../../../../../../constants");n.default=function(e){var t=e.stageType,n=e.screenWidth,o=e.screenHeight,i=e.windowHeight,a=(e.miniListHeightSmall,{});return n>=r.EMBED_VARS.PHONE_WIDTH?(a.radius=r.EMBED_VARS.LARGE_RADIUS+"px",a.right=r.EMBED_VARS.RIGHT+"px",a.width=r.EMBED_VARS.LARGE_WIDTH+"px",a.bottom=r.EMBED_VARS.CHAT_BOTTOM+"px",t===r.EXTERNAL_CHAT_STAGE.NEW?a.height=i<r.EMBED_VARS.LARGE_HEIGHT?"calc(100% - 30px)":r.EMBED_VARS.LARGE_HEIGHT+"px":t===r.EXTERNAL_CHAT_STAGE.LIST?a.height=r.EMBED_VARS.LARGE_HEIGHT+"px":i<r.EMBED_VARS.LARGE_HEIGHT?a.height="calc(100% - 100px)":a.height=o<r.EMBED_VARS.LARGE_HEIGHT?r.EMBED_VARS.FULL_SIZE:r.EMBED_VARS.LARGE_HEIGHT+"px"):(a.radius=r.EMBED_VARS.PHONE_RADIUS+"px",a.right=0,a.width=r.EMBED_VARS.FULL_SIZE,a.bottom=0,a.height=r.EMBED_VARS.FULL_SIZE),a}},{"../../../../../../../../constants":104}],79:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;n.default=function(e){var t=e.M,n=e.momentChatIframe,r=e.momentBubbleIframe;n.style.bottom="20px",n.style.right="20px",n.style.display="none",r.style.display="block",t._trigger("hide")}},{}],80:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("../../../../../../../../constants");n.default=function(e){var t,n,o=e.sizes,i=e.open,a=e.unreadCount;return i?(t=o.width,n=o.height):(t=parseInt(r.EMBED_VARS.SMALL_WIDTH),a>0&&(t=r.EMBED_VARS.MSG_WIDTH),n=r.EMBED_VARS.SMALL_HEIGHT+a*(r.EMBED_VARS.MSG_SPACING+r.EMBED_VARS.MSG_HEIGHT)),[t,n]}},{"../../../../../../../../constants":104}],81:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;n.default=function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach(function(e){e.style.opacity=1})}},{}],82:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("../../../../../../../../constants");n.default=function(e){var t=e.M,n=e.sizes,o=e.screenWidth,i=e.momentChatIframe,a=e.momentBubbleIframe;t._trigger("show"),i.style.width=n.width,i.style.height=n.height,i.style["border-radius"]=n.radius,i.style.bottom=n.bottom,i.style.right=n.right,i.style.display="block",o<=r.EMBED_VARS.PHONE_WIDTH&&(a.style.display="none")}},{"../../../../../../../../constants":104}],83:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;n.default=function(e){var t=e.unreadCount,n=document.getElementById("moment-dismiss-message-frame");n.style.display=t?"block":"none"}},{}],84:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("../../../../../../../../constants");n.default=function(e){var t=e.mouseOver,n=e.momentBubbleIframe;n.style.filter=t?r.EMBED_VARS.CHAT_BUBBLE_BOX_SHADOW_HOVER:r.EMBED_VARS.CHAT_BUBBLE_BOX_SHADOW}},{"../../../../../../../../constants":104}],85:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var r=function(e){return e&&e.__esModule?e:{default:e}}(e("./offCommand"))},{"./offCommand":86}],86:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;n.default=function(e,t,n,r,o,i){if(t._listeners[o])for(var a=0;a<t._listeners[o].length;a++)if(t._listeners[o][a]===i)return void t._listeners[o].splice(a,1)}},{}],87:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var r=function(e){return e&&e.__esModule?e:{default:e}}(e("./onCommand"))},{"./onCommand":88}],88:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;n.default=function(e,t,n,r,o,i){t._listeners[o]||(t._listeners[o]=[]),t._listeners[o].push(i)}},{}],89:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var r=function(e){return e&&e.__esModule?e:{default:e}}(e("./openCommand"))},{"./openCommand":90}],90:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("../../../../enum");n.default=function(e,t,n){t._options.to.postMessage({type:r.momentCRMEventsEnum.OPEN_CHAT},n)}},{"../../../../enum":54}],91:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var r=function(e){return e&&e.__esModule?e:{default:e}}(e("./sendMessageCommand"))},{"./sendMessageCommand":92}],92:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("../../../../enum");n.default=function(e,t,n,o,i){t._options.to.postMessage({type:r.momentCRMEventsEnum.SEND_MESSAGE,options:i},n)}},{"../../../../enum":54}],93:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var r=function(e){return e&&e.__esModule?e:{default:e}}(e("./showCommand"))},{"./showCommand":94}],94:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("../../../../enum");n.default=function(e,t,n){t._options.to.postMessage({type:r.momentCRMEventsEnum.SHOW_CHAT},n)}},{"../../../../enum":54}],95:[function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(e("snapshottp/recording/util/containsDoNotTrackClass")),i=e("snapshottp/recording/tracking/embedasyncEvent"),a=e("snapshottp/recording/tracking/ReadinessObserver");n.default=function e(t,n,u){var s=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r(this,"handleUrl",function(e){s._eventHandler.handleUrl(e)}),r(this,"addPageLoadEvent",function(){s._eventHandler.addPageLoadEvent()}),r(this,"flushMomentObjectEarlyEvents",function(e){e._e.forEach(function(e){s._eventHandler.browserEventHandler(e.event,e.time)}),delete e._e}),r(this,"removeMomentObjectEventListeners",function(e){e._E.forEach(function(t){window.removeEventListener(t,e._k)}),delete e._E,delete e._k}),this._eventTrasmitter=function(e){if(e){var t;return new a.EventTransmitter(null===(t=document.querySelector("#moment-chat-frame"))||void 0===t?void 0:t.contentWindow)}return{sendEvents:function(){}}}(t),this._eventHandler=(0,i.record)(document,{host:n,sendEventBufferInterval:u,omitFn:o.default,isTop:t},this._eventTrasmitter.sendEvents)}},{"snapshottp/recording/tracking/ReadinessObserver":45,"snapshottp/recording/tracking/embedasyncEvent":46,"snapshottp/recording/util/containsDoNotTrackClass":47}],96:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var r=function(e){return e&&e.__esModule?e:{default:e}}(e("./trackCommand"))},{"./trackCommand":97}],97:[function(e,t,n){(function(process){(function(){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,n,o,i,a){if(a.doTracking){var u=a.isTop||!1,s="true"===process.env.M_DETERMINISTIC,c=s?10:500,l=new r.default(u,o,c);l.addPageLoadEvent(),l.removeMomentObjectEventListeners(n),l.flushMomentObjectEarlyEvents(n),t&&clearInterval(t),t=window.setInterval(function(){l.handleUrl(window.location.href)},s?50:500),s&&(window.eventHandler=l)}};var t,r=function(e){return e&&e.__esModule?e:{default:e}}(e("./MomentEmbedAsyncEvent"))}).call(this)}).call(this,e("_process"))},{"./MomentEmbedAsyncEvent":95,_process:2}],98:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var r=function(e){return e&&e.__esModule?e:{default:e}}(e("./updateCommand"))},{"./updateCommand":99}],99:[function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e){return e&&e.__esModule?e:{default:e}}(e("../util/toggleChat")),u=e("../../../../enum");n.default=function(e,t,n,o,s){var c=i(i({},t._options),s);if(c.teamVanityId&&c.teamVanityId!==t._options.teamVanityId)console.error("The team id cannot be changed after the page has loaded.");else if(t._options=c,(0,a.default)(t,o),t._frameStarted){var l=t._options,f=(l.to,l.target,r(l,["to","target"]));t._options.to.postMessage({type:u.momentCRMEventsEnum.MOMENT_OPTIONS,options:f},n)}}},{"../../../../enum":54,"../util/toggleChat":100}],100:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;n.default=function(e,t){var n=[];!1===e._options.doChat&&n.push("do-not-track"),e._options.doChat&&e._authComplete&&e._frameStarted?(t.style.display="block",n.push("moment-on")):(t.style.display="none",n.push("moment-off")),t.className=n.join(" ")}},{}],101:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=e("../../enum"),i=r(e("./commands/initOrAttachCommand")),a=r(e("./commands/trackCommand")),u=r(e("./commands/eventCommand")),s=r(e("./commands/updateCommand")),c=r(e("./commands/sendMessageCommand")),l=r(e("./commands/openCommand")),f=r(e("./commands/closeCommand")),d=r(e("./commands/showCommand")),p=r(e("./commands/hideCommand")),h=r(e("./commands/onCommand")),y=r(e("./commands/offCommand")),m=r(e("./commands/globalLogoutOnAllBrowsersCommand")),v={};v[o.commandEnum.INIT]=i.default,v[o.commandEnum.ATTACH]=i.default,v[o.commandEnum.TRACK]=a.default,v[o.commandEnum.EVENT]=u.default,v[o.commandEnum.UPDATE]=s.default,v[o.commandEnum.SEND_MESSAGE]=c.default,v[o.commandEnum.OPEN]=l.default,v[o.commandEnum.CLOSE]=f.default,v[o.commandEnum.SHOW]=d.default,v[o.commandEnum.HIDE]=p.default,v[o.commandEnum.ON]=h.default,v[o.commandEnum.OFF]=y.default,v[o.commandEnum.GLOBAL_LOGOUT_ON_ALL_BROWSERS]=m.default;n.default=function(e,t,n,r){for(var o=arguments.length,i=new Array(o>4?o-4:0),a=4;a<o;a++)i[a-4]=arguments[a];var u=v[e];if(u)return function(){return u.apply(void 0,[e,t,n,r].concat(i))}}},{"../../enum":54,"./commands/closeCommand":58,"./commands/eventCommand":60,"./commands/globalLogoutOnAllBrowsersCommand":62,"./commands/hideCommand":64,"./commands/initOrAttachCommand":66,"./commands/offCommand":85,"./commands/onCommand":87,"./commands/openCommand":89,"./commands/sendMessageCommand":91,"./commands/showCommand":93,"./commands/trackCommand":96,"./commands/updateCommand":98}],102:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;n.default={TOGGLE:"toggle",VISIBILITY:"visibility",ENDUSER_UPDATE:"enduser_update",RESIZE_CONVO_WINDOW:"resizeConvoWindow",AUTH_COMPLETE:"authComplete",STARTED:"started",STAGE:"stage",ATTACHED:"attached",SHOW_MSG_BOXES:"showMsgBoxes",SHOW_CALL_REQUEST:"showCallRequest",MOMENT_ENDUSER_LOGOUT:"moment_enduser_logout",ENABLE_CLIENT_SIDE_LOGGING:"enableClientSideLogging",CC:"cc",UEDS:"ueds",UEDR:"uedr"}},{}],103:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"chatEventsEnum",{enumerable:!0,get:function(){return r.default}});var r=function(e){return e&&e.__esModule?e:{default:e}}(e("./chatEventsEnum"))},{"./chatEventsEnum":102}],104:[function(e,t,n){"use strict";t.exports=Object.freeze({DEFAULT_API_PARAMS:{DEFAULT_NUMBER_CONVO_TO_CACHE:3,DEFAULT_OFFSET:0,DEFAULT_LIMIT:20},SOCIAL_LINKS:{FACEBOOK:"https://www.facebook.com/MomentCRM",LINKEDIN:"https://www.linkedin.com/company/31395438",TWITTER:"https://twitter.com/momentcrm",YOUTUBE:"https://www.youtube.com/channel/UC1-b5oOnv-VxmNpcu-_z6dA"},CONVERSATIONITEM_CHANNEL:{EMAIL:"email",CHAT:"chat"},EXTERNAL_CHAT_STAGE:{INIT:"init",NEW:"new",LIST:"list",DURING:"during"},TEXT_TYPES:["htmlmsg","textmsg","note","askForEmail","automessageMomentTemplate","automessageBlankTemplate"],CACHE_SETTINGS:{LOCAL_STORAGE_KEY_PREFIX:"convo/cache",CACHE_TEAM_MAX_SIZE:524288},EMBED_VARS:{IDS:{CHAT_BUBBLE:"chatbubble",CHAT_BUBBLE_NOTIFICATION:"chatbubblenotification",CALL:"momentcall",MESSAGE:"momentmsg",DISMISS_MESSAGE:"momentdismissmsg"},FULL_SIZE:"100%",LARGE_HEIGHT:550,LARGE_WIDTH:400,PHONE_WIDTH:960,MIN_HEIGHT:320,MIN_LIST_HEIGHT:382,RIGHT:20,BOTTOM:20,CHAT_BOTTOM:100,CHAT_BUBBLE_SPACING:20,CHAT_BUBBLE_FRAME_SIZE:62,CHAT_BUBBLE_NOTIFICATION_SIZE:{width:28,height:18},SMALL_WIDTH:62,SMALL_HEIGHT:62,SMALL_RADIUS:31,CALL_RADIUS:4,LARGE_RADIUS:6,PHONE_RADIUS:0,CLOSE_MSG_RADIUS:4,MSG_SPACING:20,MSG_HEIGHT:72,MSG_WIDTH:300,CALL_WIDTH:318,FILTER:"drop-shadow(rgba(0, 0, 0, 0.01) 0px 0px 10px)",FILTER_HOVER:"drop-shadow(#293b5a50 30px 0px 50px)",CHAT_BUBBLE_BOX_SHADOW:"drop-shadow(rgba(0, 0, 0, 0.1) 0px 4px 10px)",CHAT_BUBBLE_BOX_SHADOW_HOVER:"drop-shadow(rgba(0, 0, 0, 0.3) 0px 4px 15px)",CHAT_WINDOW_FILTER:"drop-shadow(#0000004D 0px 3px 20px)",BOX_SHADOW:"drop-shadow(rgba(0, 0, 0, 0.19) 0px 4px 10px)",BOX_SHADOW_HOVER:"drop-shadow(rgba(0, 0, 0, 0.25) 0px 4px 15px)"}})},{}],105:[function(e,t,n){(function(process,t){(function(){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return(r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&o(i,n.prototype),i}).apply(null,arguments)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t,n,r,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)}function u(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){function i(e){a(s,r,o,i,u,"next",e)}function u(e){a(s,r,o,i,u,"throw",e)}var s=e.apply(t,n);i(void 0)})}}function s(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var l=n(e("@babel/runtime/regenerator")),f=n(e("snapshottp/snapshottp-client"));if("true"===process.env.M_DETERMINISTIC&&!0==!window.__DATE_OVERRIDDEN__){var d=["Warning: Can't call setState (or forceUpdate) on an unmounted component.","Warning: This synthetic event is reused for performance reasons.","Unable to find a native DOM range from the current selection","NS_ERROR_FAILURE"],p=function(e){var t,n=function(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=s(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}(d);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(-1!==e.indexOf(r))return void console.warn("Ignoring TODO error: ",e)}}catch(r){n.e(r)}finally{n.f()}var o={method:"POST",body:JSON.stringify({msg:e}),headers:{"Content-Type":"application/json"}},i=process.env.M_MWEB_PRIMARY_DOMAIN,a="https://".concat(i,"/api/internal/console_logger");fetch(a,o).then(function(){console.warn("window/console error sent")}).catch(function(e){console.warn("window/console error not sent"),console.warn(e)})};window.addEventListener("error",function(e){if(e.error&&e.error.markedForReactWeirdness||e.message&&e.message.indexOf("ResizeObserver loop completed with undelivered notifications")>-1)return e.preventDefault(),!0;e.error&&(e.error.markedForReactWeirdness=!0);var t=["Message: "+e.message,"URL: "+e.filename,"Line: "+e.lineno,"Column: "+e.colno,"Error object: "+JSON.stringify(e.error)].join(" - ");return p(t),!1},!1);var h=console.error.bind(console);t.console.error=function(){h.apply(console,arguments);var e=["Message: "+Array.from(arguments).join(" - "),"URL: "+window.location.href,"Stack: "+new Error("testoverride").stack,"Error object: <console.error>"].join(" - ");p(e)};var y=console.log.bind(console);window.MOMENT_MESSAGES=[],console.log=function(e){y.apply(console,arguments),window.MOMENT_MESSAGES.push(e)},u(l.default.mark(function e(){var t,n,o,a,s;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=function(e){for(var t=e+"=",n=document.cookie.split(";"),r=0;r<n.length;++r){for(var o=n[r];" "==o.charAt(0);)o=o.substring(1,o.length);if(0==o.indexOf(t))return o.substring(t.length,o.length)}return null},window.readCookie=t,n=null,(o=function(){var e=t("moment_test_date");if(0===parseInt(e))throw new Error("moment_test_date cookie returned 0");n=e?new Date(parseInt(e)):new Date(2016,1,1,0,0,0,0),window.parent.postMessage({type:"deterministicTime",deterministicTime:n},"*")})(),/\/team\/[^/]*\/externalchat/.test(window.location.pathname)?window.setInterval(o,20):window.addEventListener("message",function(e){var t=e.data;"deterministicTime"===t.type&&(n=t.deterministicTime)}),window.__DATE_OVERRIDDEN__=!0,-1===document.URL.indexOf("disable_deterministic_time")&&(a=window.Date,window.Date=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this!==window&&this?(t=t.length?t:[window.Date.now()],r(a,i(t))):(new a).toString()},window.Date.now=function(){return n.getTime()},window.Date.parse=function(){return a.parse.apply(a,arguments)},window.Date.UTC=function(){return a.UTC.apply(a,arguments)},window.raceChecks={confirmedRaces:[]},window.originalFetch=window.fetch,window.fetch=function(){var e=u(l.default.mark(function e(t){var n,r,o,i,u,s,c=arguments;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=a.now(),t in window.raceChecks||(window.raceChecks[t]=null);for(o=c.length,i=new Array(o>1?o-1:0),u=1;u<o;u++)i[u-1]=c[u];return e.next=5,(n=window).originalFetch.apply(n,[t].concat(i));case 5:return s=e.sent,!window.raceChecks[t]||window.raceChecks[t]<r?window.raceChecks[t]=r:window.raceChecks.confirmedRaces.includes(t)||window.raceChecks.confirmedRaces.push(t),e.abrupt("return",s);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),s="https://"+process.env.M_MSNAPSHOTTP_PRIMARY_DOMAIN+process.env.SNAPSHOTTP_API_PATH_PREFIX,e.next=11,(0,f.default)({url:s});case 11:window.snapshottpClient=e.sent;case 12:case"end":return e.stop()}},e)}))()}}).call(this)}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"@babel/runtime/regenerator":1,_process:2,"snapshottp/snapshottp-client":48}]},{},[51]);
